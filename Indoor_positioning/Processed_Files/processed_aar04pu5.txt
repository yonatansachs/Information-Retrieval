indoor
positioning
method
using
single
compact
base
station
eskoo
dijk1
kees
vanberkel1
ronaldm
aarts
evertj
vanloenen
eindhovenuniversityoftechnology
philipsresearch
laboratories
eindhoven
postbus513
5600
mbeindhoven
prof
holstlaan4
5656
aaeindhoven
thenetherlands
thenetherlands
esko@ieee.org
evert.van.loenen@philips.com
abstract
nesswillplayanincreasinglyimportantroleinthedomes
tic
consumerelectronicsdomain
thiscreatesthe
needfor
context
awareness
will
become
increasingly
important
consumer
grade
indoor
location
systems
system
infuturedomesticconsumerelectronics
inmanydomestic
wouldlikelybeconnectedtoanin-homenetwork
toshare
contextawareapplications
thereisaneedforlocationand
locationinformationbetweenmultipledevicesandapplica
orientation
information
persons
devices
objects
tions
home
information
can
provided
dedi
position
accuracy
defined
expected
catedindoorlocationsystem
consumerlocationsystem
distance
estimated
position
true
posi
shouldberobust
safe
easytosetup
lowcost
andshould
tion
type
location
information
con
haveaminimalinfrastructure
inthispaper
asteptowards
sumer
location
system
provide
initial
requirements
consumerlocationsystems
takenbyproposinganultra
bothwerefoundbyanalyzingin-homeapplicationscenar
sonic
positioningmethod
needs
just
single
compact
ios
location
plays
role
scenarios
pro
base
station
measure
3d
positions
mobile
devices
duced
phenom
project
related
projects
room
method
employs
ultrasound
time-of-flighttri
philips
research
applications
often
need
loca
lateration
estimate
device
positions
using
base
sta
tion
orientation
proximity
range
information
tion
containing
array
three
ultrasound
transducers
typeofinformationandrequiredaccuracyvariesalotover
five
potential
problems
proposed
method
iden
scenarios
thelocation
rangeaccuracyrequirementscould
tified
themainproblembeingline-of-sightpathocclusion
begroupedintothreetypicalcases
lowaccuracyatroom
method
prototyped
initial
results
show
scale
room
person
device
medium
anaccuracyof1
41morbetterfor95
ofthepositiones
accuracy
around
part
room
timates
incaseofagoodline-of-sightpath
itisconcluded
high
centimeter-scale
accuracy
coordinate
3d
thatthemethodis
promisingforproviding3dpositionin
space
formationataround1maccuracyforcontextawareappli
ultrasound
time-of-flight
measurements
together
cations
problem
line-of-sightocclusion
re
trilaterationormultilaterationalgorithmsareoftenusedin
quiresfurtherinvestigation
indoor
location
systems
obtain
high
accuracy
existing
high
accuracy
ultrasonic
systems
bat
constel
lationandothersfromintersense
cricket
16
andthe
systembyrandellandmuller
17
althoughsuchsystems
introduction
canmeetmostaccuracyrequirements
thelargeinfrastruc
ture
required
room
associated
installation
ef
many
applications
pervasive
context
aware
fort
disadvantages
current
systems
require
several
computing
foundthat
location
important
unitsofinfrastructureinaroom
fixedtotheceiling
partofthecontext
locationinformationmayincludeloca
minimumof
three
base
station
bs
units
required
tionsofpersons
devicesandobjects
andmayincludetheir
tocalculate3dpositionsofmobiledevices
mds
withina
orientation
well
indoor
location
systems
therefore
room
usually
morethan
threebs
units
areadvised
orre
anactivetopicofresearch
inpervasivecomputing
quired
16
17
toimproveaccuracyandreducesuscep
nowtheyhavemostlybeendesignedforprofessionalindoor
tibilitytorandommeasurementerrors
moreover
theposi
environments
expectthatinthe
future
contextaware
tions
bs
units
need
measured
accurately
en
proceedings
second
ieee
annual
conference
pervasive
computing
communications
percom
04
7695
2090
04
20.00
2004
ieeeteredintothesystematinstallationtime
mostultrasonicmultilaterationpositioningsystems
thedis
required
infrastructure
installation
effort
make
tancesbetweendevicesaremeasuredusingultrasoundtime
systems
unsuitable
deploymentin
home
im
of-flight
tof
multipliedbythespeedofsoundinair
portantrequirementsinthisdomainarethatalocationsys
measure
absolute
tof
time
synchronization
temisrobust
safe
easytoinstall
minimalinitsinfrastruc
bs
mddevicesisneeded
thisisusuallyachievedbyara
ture
low
cost
requirements
led
current
diolink
16
oraninfraredlink
21
somesystemsuse
research
direction
single
base
station
3d
positioning
tofdifferencesinsteadofabsolutetof
whichavoidsthe
system
apositioningsystemisdefinedhereasalocation
needfortimesynchronization
however
thisrequiresan
system
specifically
aimed
measuring
absolute
3d
coor
extra
bs
unit
many
multilateration
algorithms
dinates
mds
single
unit
minimum
infras
designedtocopewitherrorinthemeasureddistancesd
im
tructure
apartfromnoinfrastructureatall
iseasiertoin
leastsquaresoptimizationmethods
stall
multiple
units
may
lead
low-cost
sys
temifthebssaremass-produced
currently
weuseultra
soundtime-of-flighttechnologybecauseofitsproventrack
2.2
basestation
design
recordinlowcostaccurateindoorpositioning
becauseul
trasound
can
penetrate
walls
single-bs
system
will
typical
state-of-the-artultrasonic
multilateration
sys
onlyworkinoneroomofahouse
temconsistsofthreeormorebssinaroom
locatedonthe
however
using
just
single
bs
comes
cost
ceiling
spaced
widely
apart
ceiling
placement
increases
can
expect
get
centimeter-accurate
position
informa
theprobabilityofaclearline-of-sight
los
pathbetween
tioninaneasyway
instead
weaimforasystemthatpro
mdandthebss
thewidespacebetweenbsunitsavoids
vides
medium
accuracy
one
room
although
ex
errorinducedbyunfavorablegeometricalconfigurations
cludeshighaccuracyapplications
therearemanyinterest
willbeshownlaterinsection3
however
thelargespa
ingapplicationsrequiringjustmedium
lowaccuracy
tial
extent
setups
disadvantage
con
believe
introduction
location
systems
sumerpointofview
homesisviable
ifitcanbedonegradually
atypicalgrad
configuration
proposed
brings
together
three
ualbusinessmodele
allowsausertoinitiallybuyasingle
bssintoasinglecompactunit
fig
abaselinedistance
bsforthelivingroom
later
morebsdevicescanbepur
11.5
cm
chosen
make
compact
de
bl
chased
rooms
house
perhaps
single-bs
vice
theinfluenceoftheparameterd
onsystemperfor
bl
location
system
living
room
enhanced
mance
will
discussed
section
3.1
bs
can
addingasecondbsattheothersideoftheroom
whichre
placed
many
ways
inside
room
good
bs
positions
quires
bs
able
cooperate
bs
units
include
room
wall
high
position
unification
different
coordinate
systems
may
tachedtotheceilinginthemiddleoftheroom
di
comeaproblem
18
agonallyinaceilingcorner
inthispaper
position
isin
inthenextsection
asingle-bspositioningmethodwill
vestigatedfor
two
reasons
first
issimilar
bs
po
beintroducedthatusesanarrayofthreetransducersinthe
sition
forthe
single-transducerbsapproachin
bs
section
five
potential
problems
proposed
positioningperformancebetween
two
approachesmay
methodwillbestatedandsolutionswillbediscussed
sec
becomparedinthefuture
second
position
ismorefa
tions4and5describeourimplementationofthesingle-bs
vorablethan
fromtheconsumerperspective
becausethe
systemandexperimentsperformedwithit
theconclusions
bscanbemoreeasilyfixedtoawall
orsimplybeputupon
aregiveninsection6
aledgeorcupboard
andbecauseamainspowersocketfor
thebsisusuallynotavailableontheceilinginthemiddle
singlebasestationpositioningmethod
ofaroom
however
theceilingposition
alsohasinter
estingpropertiessuchasshortestaveragedistancebetween
section
single
base
station
array
positioning
bsandmds
methodandthebasestation
bs
designwillbeintroduced
proposed
array
configuration
resembles
2d
ul
trasonic
inter-robot
localization
system
wu
et
al
21
2.1
ultrasoundtime-of-flighttrilateration
wheretransducerswerealsoplacedrelativelyclosetogether
at5
1cm
ina2x2arrayconfiguration
trilateration
14
consists
measuring
three
dis
foranyultrasoniclocationsystem
animportantdesign
tances
im
target
three
reference
points
decision
whether
mds
send
ultrasound
using
distances
calculate
unknown
target
infrastructure
sends
ultrasound
md
receives
3dpositionx
morereferencepoints
calledmul
16
thesingle-bsarraymethodcanworkinbothways
tilateration
fixed
referencepoints
usually
bss
principle
decisions
devices
send
proceedings
second
ieee
annual
conference
pervasive
computing
communications
percom
04
7695
2090
04
20.00
2004
ieee3
unfavorablegeometric
configuration
errorina
3d
positionestimate
dependsnotjuston
errors
distance
measurements
also
geo
metrical
configuration
md
bs
positions
non
linearmanner
14
thepositionerrorduetosmallrandom
measured-distance
errors
can
modeled
geomet
ricdilutionofprecisionconcept
10
14
gdop
ordop
forshort
thedopcanbeseenasadistanceerroramplifi
cationfactor
foranexpectedstandarddeviation
sd
dof
bl
measureddistancesaroundthetruevalue
theexpectedpo
sitionestimateerrorsdforamdisσ
dop
figure1
single-bsarraywiththreetransduc
positionsofbssandthemdinfluencethevalue
dop
ersseenfromthefront
fixedbsposition
thedopisafunctionofthemdposi
tiononly
ananalysisusingthedopconceptwillbeshownnow
receivetherfsignalsfortimesynchronization
andwhere
highlights
problem
introduced
bring
positionestimatesarecalculated
remainopeninthispaper
ingthethreebssintooneunit
twoconfigurationswillbe
compared
astandardthree-bssetupwherethebsunits
2.3
leastsquarestrilateration
areplacedinthreeceilingcorners
theproposedsingle
bsarrayplacedagainstawallataceilingheightof2
97m
aleastsquarestrilaterationalgorithmisusedinourim
forthisanalysisthehdop
horizontaldop
10
14
con
plementation
estimate
3d
position
three
mea
sureddistancesdm
thealgorithmiterativelyupdatesapo
cept
will
used
considers
position
error
thehorizontalplane
althoughthe
hdopcan
calcu
sitionestimatexˆ
suchthatacostfunctione
isminimized
lated
specific
positioning
algorithm
14
thecostfunctionisthesum
ofsquarederrorsbetweenel
ementsofthemeasureddistancesvectordm
andestimated
cramer-rao
lower
bound
crb
13
hdop
distancesvectordˆ
calculatedinstead
itrepresentsthebest
lowest
possible
hdopthatanyunbiasedestimatorofthehorizontalmdpo
cid
sitionvector
canreach
dm
dˆ
im
dˆ
thecrbonthehdopforbothconfigurationsisshown
infig
and2
respectively
theboundwascalculated
foh
re
ire
th
1e
2h
3e
ae
nl
dem
xe
bn
ss
hf
edˆ
kna
ore
wg
niv
pe
sib
tiy
ondˆ
tra
xˆ
ns
dux
ceb
tyv
pe
ir
cam
la
mny
dm
hed
igp
ho
ts
zit
ion
1s
0x
fixed
bs
solve
nonlinearoptimization
problem
can
observed
figures
hdop
values
single-bs
array
much
higher
thematlab
15
functionlsqnonlinwasused
whichuses
three-bs
case
single
bs
hdop
value
thejacobianof
costfunctionforquickconvergence
200aroundy
4meansthatanerrorsdof1mm
forall
needsaninitialpositionestimatetostartwith
equationsfor
three
measured
distances
results
error
sd
20
cm
agoodinitialestimatewereanalyticallyderived
bysolving
forthepositionestimate
inthe
experimentsin
sec
anapproximationofthe
positioningproblem
theapprox
tion5itisinvestigatedwhetherthehighdopcausesprob
imationholdsfortheassumptionsthatthemdisfaraway
bs
cid
measured
distances
lematicallylowpositioningaccuracy
ornot
bl
apartialsolutiontothehighdopproblemcomesfrom
zeroerror
thefactthaterrorduetodopcanbeestimated
thismeans
error
boundsfor
md
position
estimate
problemsofthe
singlebasestationmethod
arereportedbackbythepositioningsystemtoapplications
can
dynamically
adapted
depending
estimated
thedesigndecisionofintegratingallinfrastructureinto
currentdopvalue
oneunit
althoughattractive
presentsa
numberofspecific
problems
inthissectionfivepotentialproblemsareidenti
influenceofthebsbaselinedistance
thebaselinedistance
fiedandanumberofsolutionsareproposed
theproblems
see
fig
direct
effect
hdop
bl
ofunfavorablegeometricconfigurations
section3
line
creasing
hdop
can
decreased
trade-off
ex
bl
of-sight
path
occlusion
section
3.2
multipath
interfer
ists
bs
compactness
positioning
error
note
ence
section
3.3
movement
measurements
sec
hdop
positions
near
will
remain
rela
tion3
andinstallation
section3
arediscussed
tively
large
due
inability
single
bl
proceedings
second
ieee
annual
conference
pervasive
computing
communications
percom
04
7695
2090
04
20.00
2004
ieee7
coordinate
etanidrooc
3.2
2.8
2.6
2.4
2.2
1.8
1.6
1.5
1.45
coordinate
cornersetup
etanidrooc
ceiver
itispossiblethatareflectedwavethatarrives
100
later
mistakenly
seen
los
signal
can
re
sultinlargepositioningerrors
90
first
step
towards
solving
problem
detect
occlusion
happens
occlusion
detected
can
80
rejectthemeasurementorassigna
lowconfidencelevelto
corresponding
position
estimate
will
hopefully
70
avoidlargeerrors
onemethodforocclusiondetectionwill
beintroducednow
themethodisbasedontheassumption
los
peaks
ultrasound
signal
likely
60
bevalidiftheirrelativeamplitudea
ishigher
thelos
rel
55
peakisthecharacteristicfirstpeakinameasuredultrasound
signal
thatiscausedbythearrivaloftheacousticwaveover
theshortest
line-of-sight
path
notethatifthelospeak
70
80
amplitudeislow
itmaybeundetectableamidstnoise
100
90
relative
amplitudeof
los
peakscan
defined
num
200
500
500
berofways
forexampleastheratioofthelospeakam
plitudeam
tothermsamplitudeofallotherpeaks
single-bssetup
rel
rms
figure
isograms
constant
hdop
lower
wherethevectoram
includesallremainingdetectedpeaks
bound
withinaroom
fortwodistinctsetups
md
height
1.2
bs
transducer
im
duetoacousticalnoise
cross-correlationnoise
positionsaremarkedby
cid
andacousticreflections
multipathcomponents
given
theaboveassumption
thevaluea
canbeusedasacon
rel
fidence
value
measurement
using
threshold
rel
dictates
minimum
value
measurement
bs
array
estimate
y-coordinatesaccurately
near
rel
accepted
simple
occlusionclassifier
can
imple
thiscanbeverifiedbygeometry
asmallpositionchange
mented
classifier
performance
will
tested
sec
foranymd
positionneary
inducesa
change
tion5
dm
0inthemeasureddistancesdm
3.3
multipathinterference
3.2
line-of-sight
occlusion
even
unobstructedlos
path
exists
theline-of-sight
los
pathbetweenthesinglebsand
bs
md
one
source
error
can
disturb
mea
md
can
easily
obstructedby
personsor
furnitureob
suredlosdistances
thiserroriscausedbythemultipath
jects
typicalobstructionoccurswhena
personcarrying
interference
effect
means
reflections
ultra
md
facing
away
bs
person
body
sonic
waves
so-calledmultipathcomponentsor
multipath
isobstructingthelospath
anothertypicalcase
md
signals
arrive
receiver
still
busy
receiv
pointing
straight
towards
bs
md
cas
ingthelossignal
thesereflectionscanbecausedbyper
ingblocksthelospath
forallsuchobstructioncasesthe
sons
objectsorwalls
themultipathcomponentsmaydis
termlosocclusionwillbeused
turb
los
signal
alteration
phase
shape
two
possible
cases
can
distinguished
partial
oc
byconstructiveordestructiveinterference
leadingtoerrors
clusion
los
signals
can
still
measured
acous
inpositionestimates
forgpsreceivers
multipathisexten
ticwavesdiffract
bend
aroundtheobstacleanddo
sivelystudied
20
asitisthelargestsourceoferror
forin
reach
receiver
amplitude
diffracted
signal
doorultrasonicsystems
multipatherrorisusuallynotanis
much
lower
signal
clear
los
conditions
sue
itis
orderof
magnitudeof
cm
andthelengthofthediffractedwave
spropagationpathwill
less
however
forthesingle-bsmethodevenanerrorthis
beslightlylongerthanthelosdistance
boththelowam
small
undesirableas
may
lead
largepositioninger
plitudeandtheincreasedpropagationpath-lengthcancause
rors
aswasshowninsection3
errors
position
estimates
case
full
occlusion
next
three
solutions
multipath
problem
will
los
path
obstructed
amplitude
given
thatwillnotremovemultipatherrorcompletely
diffractedlossignalistoolowtobemeasurableatthere
willreduceit
astraightforwardfirstsolutionistoincrease
proceedings
second
ieee
annual
conference
pervasive
computing
communications
percom
04
7695
2090
04
20.00
2004
ieeethebandwidthofultrasoundtransducers
rouglyspeaking
mitted
overthe
ultrasoundchannel
well-known
transmissions
larger
bandwidth
can
made
shorter
codedivisionmultipleaccess
cdma
19
schemeuses
time
duration
lowers
probability
los
orthogonalsignals
approachhasbeen
used
beforein
signal
will
overlap
multipath
components
arrive
ultrasonicpositioning
andecholocationsystems
12
slightlylateratthereceiver
forthetheoreticallimitofin
obtain
multiple-access
capability
details
omitted
finitely
narrow
impulse
signals
multipath
error
acdmaschemeisusedinourimplementation
non-existent
shown
hazas
ward
broadbandtransducerscanworkwellinanindoorposition
3.5
installation
issues
ingsystem
secondly
solutions
exist
use
signal
processing
onemoreissueconcernstheinstallationofthebs
receiver
compensate
low
bandwidth
channel
installationofasinglebsbyanon-expertusershouldbeas
asshownbythebodyofworkongpsreceivers
20
andon
simpleaspossible
perhapseven
plugandplay
ideally
sonarapplications
system
shouldallow
usersto
choosea
convenientlocation
athirdsolutionisproposedhereforultrasonicsystems
forthe
bsunit
buthowcanabs
knowitsownposition
thatuse
low
bandwidthpiezo
ultrasoundtransducers
ifauserhastoentercoordinatesintothesystem
theinstal
methodwasimplementedintheexperimentalsetup
ofsec
lationbecomescumbersome
auser-friendlymethodof
tion
uses
signal
processing
transmitter
side
enteringormeasuringthebscoordinatesisneeded
inthe
increasethebandwidthofpiezotransducers
byincreasing
scopeofthispapernosolutionsarepresented
butitissim
thebandwidth
multipatherrorshoulddecrease
asoftware
plyassumedthatthebspositionisknownandfixed
fft
filter
specially
shaped
frequency
spectrum
notethataninterestingsideeffectofasinglebsisthat
connectedbeforethetransmitter
thefiltershapewascho
enteringcoordinatesmaynotbeneededinsomecases
sen
widenthe
typicalnarrowband-passpeakin
fre
single
bs
can
define
ad-hoc
coordinate
system
quencyspectrumofapiezotransducer
thiswaythe3-db
bs
always
resides
origin
useful
bandwidthof
combinedtransmitter-receiverpair
applications
use
relative
positions
instead
beenlargedfrom0
8khztoavalueinthe1-10khzrange
real-worldroomcoordinates
forexampleapplicationsthat
value
controllable
real-time
filter
pa
onlyrequire
movementtrajectoryof
md
applica
rameter
notethatthebandwidthcannotbeincreasedindef
tionsthatneedtoknowmdpositionsrelativetoeachother
initely
sinceextrabandwidthisgainedatthecostoftrans
ducerefficiency
implementation
3.4
movingmobiledevices
measurement
setup
built
test
single
bsarraymethod
itconsistsofaflexiblehardwaresetupof
md
performing
distance
measurements
uptoeightultrasoundtransmittersandeightreceiverscon
may
moving
can
lead
errors
position
esti
nectedtoapc
withallsignalprocessingandpositionesti
mates
three
measurements
bs
md
mationdoneinsoftware
takensequentiallyinatdmascheme
inthetimebetween
measurements
50ms
themdmayhavemovedupto
4.1
measurementhardwaresetup
several
centimeters
causes
measured
distances
im
tobemutuallyinconsistent
asthesingle-bstrilatera
themeasurementsetupisshowninfig
threetrans
tionmethodeffectivelyreliesonsmalldifferencesbetween
mitters
bs
one
receiver
md
con
distances
computethe
position
md
move
nectedtoameasurementpc
outputwaveformsofarbitrary
mentmaycauseincorrectpositionestimates
shapecanbegeneratedbythethreeoutputdacs
theout
threesolutionsareconsideredheretoavoiderrorsdueto
puts
drive
quantelec
sq-40t
40
khz
ultrasound
transmit
movingmds
afirstoneistoreversethedirectionofultra
tersat
3vpeak
theacousticwavespropagateinsidethe
soundtransmissions
andleteachmdintheroomsequen
room
recordedby
single
quantelec
sq-40r
re
tiallytransmitanultrasoundsignalandletthebstransduc
ceiver
received
electrical
signal
amplified
fil
erssimultaneously
listen
whichavoidsthetimedelaysbe
tered
30
100
khz
bandpass
filter
remove
electri
tween
subsequent
measurements
caused
problem
cal
noise
adc
samples
data
sends
asecondsolutionistomeasuredistancestwiceanddeduct
matlab
equipment
connected
coaxial
cables
values
md
stationary
timesynchronizationbetweenbsandmdissimulatedby
measurementcanberejected
athirdsolutionistoletallbs
asharedtimetriggerbetweentheadcanddacboards
transducerstransmitatthesametime
usingthreeorthogo
onemdwassimulatedusinga10x6
5x2
5cmempty
nalsignalsthatdonotinterferewitheachotherwhentrans
plastic
box
receiver
transducer
inside
fig
proceedings
second
ieee
annual
conference
pervasive
computing
communications
percom
04
7695
2090
04
20.00
2004
ieeeni
pci-mio-16e-1
card
measurement
coaxial
ultrasound
cable
receiver
adc
filter
template
cross-correlation
identical
processing
pc
amplifier
eg
5113
room
dac
amp
carrier
frequency
demodulation
coaxial
cables
dac
amp
sound
sampling
downsampling
frequency
dac
amp
signature
ultrasound
ni
6713
dac
card
transmitters
line-of-sight
estimation
figure3
measurementsetupdiagram
validity
classification
los
distances
dm
dm
dm
accept
reject
figure5
signalprocessingoperationstoob
tainthreelosdistanceestimates
sent
transducer
bs
array
three
orthogo
nalcodesfortransmissionwereselectedfromasetof127
bit
m-sequences
11
optimized
good
cross-correlation
mobiledevice
md
basestation
bs
propertiesaccording
msqcc
co
criterion
bi
nary
codes
nottransmitted
directly
used
figure
md
bs
used
experi
phase-modulateasequenceof127sinusoidalburstsignals
ments
of38mstotalsequenceduration
second
step
demodulates
amplitude
envelope
fromtheultrasoundsignal
sf
40khzcarrierfrequency
thetransducerorientationwas
chosento
point10
degrees
sincethebandwidthoftheenvelopeislessthan10khz
upwhenthe
md
isheld
horizontalposition
thisori
can
downsampled
third
step
factor
ten
entationensuresareasonablygoodorientationofthetrans
samplingfrequencyf
25khz
use
term
signa
ducer
towards
bs
typical
way
md
held
tures
fortheenvelopess
becausetheyretainallinfor
inahand
thebs
fig
consistsofthreetransmitters
mationfromx
jaboutthelossignal
stofandsubsequent
fixedtoapieceoffoamatpreciselydeterminedpositions
multipathcomponents
mmaccuracy
thefourthstepoflosestimationanalyzesthethreesig
natures
together
produces
estimate
three
4.2
signalprocessing
framework
losdistancesdm
thevalidityclassifier
integratedinthis
step
decideswhetherthemeasurementisgoodenoughtobe
figure
shows
operations
performed
mea
used
position
estimation
either
accepting
reject
sured
receiver
signal
recorded
105
ms
ingit
theamplitude-thresholdclassifier
describedinsec
starting
transmission
start
time
although
tion
3.2
used
task
defaultthresholdof
enables
update
rate
almost
10
hz
current
setup
rel
finally
position
estimate
obtained
feed
estimatespositionsatjust0
3hz
asitisnotoptimizedfor
ingthelosdistanceestimatesintotheleastsquaresalgo
speed
thesignalycontainsthecombinedcontributionsof
rithmoutlinedinsection2
threeorthogonalcodedsignalsinacdmascheme
section
3.4
fromthethreebstransmitters
thegoaloftheprocess
experiments
ingstepsistoobtainthethreelospathdistances
thefirstprocessingstepofcross-correlationseparatesy
thesingle-bsarraymethodhasbeentestedinanexper
intothreesignalsx
usingtemplatesignalst
2andt
3re
imentalsetting
butnotyetinanyapplications
inthissec
spectively
template
expected
coded
signal
tion
theexperimentandresultsarepresented
proceedings
second
ieee
annual
conference
pervasive
computing
communications
percom
04
7695
2090
04
20.00
2004
ieeementswillbediscussed
selectedresultsforthesouthori
entationare
shownin
fig
itshowsa
top
viewof
room
with81truemeasurementpositionsshownascircles
crosses
true
position
circle
error
vector
pointstowardstheestimatedposition
thisgivesanimpres
cupboard
sion
quality
horizontal
position
estimates
note
thatperpositiononlythe
errorvectorof
thefirstmeasure
table
ment
repeat
shown
true
positions
marked
cross
md
rejected
measurements
section
4.2
observe
orientations
formanypointsinthemiddleoftheroom
positioncanbe
north
foundquiteaccurately
witherrorsbelow50cm
theerror
pc
cart
table
west
tends
get
worse
away
bs
twenty-one
measurements
rejected
validity
classifier
south
bs
causetherelativeamplitudeofthelospeakswastoolow
forthesixacceptedmeasurementsclosesttotheeastwall
figure
test
room
layout
base
station
thelosdistancemeasurementsarelikelydegradedbythe
bs
andfurniturepositions
multipathinterferenceeffect
causedbystrongacousticre
flectionsfromthe
east
wall
whichhave
path
lengthjust
12cmlongerthanthelospath
however
theresultingpo
5.1
experimentalprocedure
sitionerrorisacceptable
figure7
showstheerrorvectorsforthenorthorien
standard
office
room
3.73
7.70
2.97
tation
expected
valid
los
distancescan
notbe
found
high
used
test
room
several
furniture
items
like
positions
due
los
occlusion
user
cupboard
two
tables
0.75
high
chair
mea
body
still
ten
position
estimates
found
four
surementpccartwerepresentthatcouldpotentiallycause
north-most
estimates
large
error
vector
pointing
theproblemsoflosocclusionandmultipathinterference
north
thishappenswhenacousticreflectionsignalsarede
theroomlayoutwith
furnitureandbs
positionsis
shown
tectedinsteadofthetruelossignal
thesereflectionswere
infig
themdwasmountedonapoletoensureafixed
causedbythenorthernwall
thecupboard
andtheceiling
heightovera
setofmeasurements
thepolewasplacedat
respectivelyforthetoptwo
middleandbottompositionsof
about80locationswithintheroom
withthemdataheight
thefour
1.28
measurements
positions
thetotalresultsforall2410measurements
nowinclud
polewasplacedononeofthetables
liftingthemdto2
03
ing
ten
repeated
measurements
shown
table
high
placement
accuracy
md
cm
bet
orientation
second
column
lists
percent
ter
ageofacceptedmeasurements
thethirdcolumngivesthe
measurements
md
held
exper
medianvalueof3dpositionerrors
overallacceptedmea
imenter
simulate
carrying
around
md
surements
last
column
gives
95
bound
user
threedifferentorientationsofthe
user
holdingthe
3d
error
can
seen
north
orientation
md
measured
position
north
south
worst-casepositionerrorsaremuchhigher
andmostmea
west
shownin
fig
theeastorientationwasnotmea
surementsarerejected
suredbecauseitisgeometricallysimilartothewestorien
thesame2410measurementsareshowninthreegraphs
tation
position
orientation
combination
ten
re
fig
one
graphfor
orientation
tried
graph
peated
measurements
taken
approximately
showstheestimatedcdfofthreeerrordistributionsrespec
period
tively
total3dpositionerror
horizontalerrorandvertical
north
orientation
unfavorable
since
user
error
thebestresultsareclearlyforthesouthandwestori
body
easily
occludes
los
path
bs
md
entations
where95
of3dpositionerrorsarebelow1
41
certain
positions
behind
cupboard
suffered
los
occlusionaswell
5.3
influenceofthevalidity
classifier
threshold
5.2
results
results
measurement
validity
classi
first
selected
results
will
shown
give
fierproposedinsection3
2wasusedwithafixedthreshold
impressionofthepositioningperformanceasafunctionof
thisthresholdcanbeincreasedtogethigheraccu
rel
mdlocation
afterthis
theperformanceoverallmeasure
racy
withaloweracceptancerate
ordecreasedtogetlower
proceedings
second
ieee
annual
conference
pervasive
computing
communications
percom
04
7695
2090
04
20.00
2004
ieee8
south
southorientation
north
northorientation
figure7
resultsof2d
positionestimation
vectorspointfromtruepositions
towardsestimated
position
crosses
mark
rejected
measurements
bs
position
marked
cid
cid
cid
dashed
linesshowtheoutlinesofthefurnitureitemspresentintheroom
mdorientation
measurement
median3d
95
boundon3d
acceptancerate
positionerror
positionerror
south
74
0.33
1.14
north
10
0.65
3.20
west
42
0.28
1.41
table1
summaryof3dpositionestimationresultsforsouth
northandwestorientations
accuracy
higher
acceptance
rate
veri
error
bound
function
threshold
can
seen
fied
whether
assumption
underlying
classifier
thaterrordecreasesforhigherthresholds
however
theac
higher
relative
los
peak
amplitude
implies
higher
proba
ceptanceratealsodecreasesforhigherthresholdsasshown
bilityofvalidity
iscorrect
infig
forthresholdvaluesof9
4andhigher
allmea
theassumptionwastestedbyclassifyingall2410mea
surementsarerejected
surementsaseitheracceptedorrejectedanumberoftimes
can
concluded
graphs
assump
using
time
different
threshold
value
ranging
tionunderlyingtheclassifierisindeedcorrect
andthatthe
rel
from0
10
time
median
95
boundon
thresholdclassifierissuccessfulatrejectinghigh-errormea
the3dpositionerrorwerecalculatedfortheacceptedmea
surements
fromfig
thetrade-offbetweenaccuracyand
surements
figure
shows
median
error
95
acceptanceratecanbeobserved
proceedings
second
ieee
annual
conference
pervasive
computing
communications
percom
04
7695
2090
04
20.00
2004
ieee100
90
80
70
60
50
40
30
20
10
0.5
1.5
2.5
position
error
assicsba
naht
ssel
rorre
htiw
setamitse
fo
egatnecrep
south
100
90
80
70
60
50
40
30
20
10
0.5
1.5
2.5
position
error
southorientation
assicsba
naht
ssel
rorre
htiw
setamitse
fo
egatnecrep
north
100
90
80
70
60
50
40
30
20
10
0.5
1.5
2.5
position
error
northorientation
assicsba
naht
ssel
rorre
htiw
setamitse
fo
egatnecrep
west
3d
position
horizontal
vertical
westorientation
figure8
accuracydistributionsofallpositionestimates
forthethreemdorientationsrespectively
3.5
2.5
1.5
0.5
10
threshold
rel
rorre
noitisop
d3
95
error
bound
median
error
medianerror
and95
errorbound
100
90
80
70
60
50
40
30
20
10
10
threshold
rel
stnemerusaem
detpecca
5.4
discussion
fromthehighrejectionrateofthenorth-orientationpo
sitionestimates
itcanbeconcludedthatlosocclusionis
major
problem
unfavorable
orientations
md
also
forthe
obstructedpositionsbehindthecupboard
po
sitionestimateswerenotfoundbecauselospeakdetection
failed
fromthesouthorientationresultsinfig
theef
fectof
unfavorablegeometricalconfiguration
mod
eled
hdop
fig
can
distinguished
predictedeffectsofhigherpositionerrorsfarawayfromthe
bsandinthecornersnexttothebs
areindeedpresentbut
arenotamajorproblemasageneral
awareness
of3dpo
sitionintheroomatmediumaccuracyisstillobtained
conclusions
paper
positioning
method
intended
future
contextawareconsumerapplicationsispresented
thatesti
mates3dpositionsofdeviceswithinaroomatmediumac
curacy
around1
method
accurately
measures
ul
trasoundtime-of-flightbetweenmobiledevices
mds
asinglebasestation
bs
andusestrilaterationtofindthe
mdposition
thebscontainsanarrayofthreeultrasound
transmitters
motivation
given
minimal
infrastructure
andspecificallyasinglebs
isattractivefor
consumer
location
system
five
problems
identified
acceptancerate
thatresultdirectlyfromthesingle-bsdesign
fortheprob
lems
unfavorable
geometric
configuration
line-of-sight
figure
3d
positioning
error
accep
los
occlusion
multipath
interference
moving
mo
tance
rate
function
classifier
bile
devices
number
solutions
proposed
re
threshold
rel
three
orientation
cases
search
challenges
identified
fifth
problem
bs
combined
installationisidentifiedbutnosolutionsarepresentedyet
ameasurementsetupwasbuilttotestthesingle-bsar
ray
positioning
method
experiments
performed
proceedings
second
ieee
annual
conference
pervasive
computing
communications
percom
04
7695
2090
04
20.00
2004
ieeethebsarraytransducerssimultaneouslyemitthreeorthog
siggraph
1998
pages
371
378
orlando
florida
usa
onal
coded
signals
cdma
scheme
mea
1998
suredbythemd
athreshold-basedclassifierwassuccess
hazasanda
ward
anovelbroadbandultrasoniclo
fullyusedtoclassifymeasurementsasvalid
invalid
aleast
cationsystem
inproc
int
conf
onubiquitouscomputing
squares
trilateration
algorithm
used
estimate
posi
ubicomp
pages264
280
go
teborg
sweden
2002
tionsforacceptedmeasurements
theexperimentalresults
hazas
ward
high
performance
privacy
oriented
location
system
proc
ieee
int
conf
showthat
accuracyof
41m
bettercan
obtained
pervasivecomputingandcommunications
percom
pages
95
ofthetime
ifthereisagoodlospathbetweenthebs
216
223
dallas-fortworth
usa
2003
andthemd
forthetestedsituationsoflosocclusion
ac
hightowerandg
borriello
locationsystemsforubiq
curacydropsto3
20morbetterfor95
oftheestimates
uitous
computing
ieee
computer
2001
august
57
66
can
concludedthat
positioningperformanceis
2001
promising
butsuffersfromthelosocclusionproblem
im
10
kaplan
understanding
gps
principles
applica
provementsinthemethodareneededtocopewithlosoc
tions
artechhouse
1996
clusion
11
ka
rkka
inenandp
leppa
nen
theimportanceofinitial
futurework
asanextstep
theseverityofthelosocclu
phaseselectionagreementofpnsequencesfromthestand
sion
problem
studied
different
room
pointofnumericalanalysisandsimulationofads-cdma
system
proc
ieee
global
telecomm
conf
globe
layouts
different
base
station
positions
solutions
com
pages3295
3301
sydney
australia
1998
will
found
secondly
worthwhile
12
kazys
svilainis
andl
mazeika
applicationofor
evaluate
whether
including
one
extra
transduc
thogonalultrasonicsignalsandbinauralprocessingforimag
ers
bs
improve
accuracy
thirdly
sys
ingoftheenvironent
ultrasonics
38
171
175
2000
tem
perform
md
orientation
estimation
adding
13
ljung
systemidentification
theoryfortheuser
upper
one
extra
transducer
md
fourth
threshold
va
saddleriver
prenticehall
2ndedition
1999
lidity
classifier
couldbe
replacedby
probabilisticclassi
14
manolakis
efficientsolutionandperformanceanalysis
fier
whichcanproduceerrorboundsforpositionestimates
of3-dpositionestimationbytrilateration
ieeetrans
can
used
example
combine
several
mea
aerospaceandelectronicsystems
32
1239
1248
1996
surements
single
confident
position
estimate
15
mathworks
matlabversion6
r13
withstatisticsand
fifth
current
los
distance
estimation
method
can
optimizationtoolboxes
www.mathworks.com.
improvedusingmethodsthatachievesub-sampleaccuracy
16
priyantha
miu
balakrishnan
teller
distance
estimates
sixth
bs
array
per
cricket
compass
context-aware
mobile
applications
formbeam-steering
22
whichcanbeusedasanalternative
inproc
acm7thint
conf
onmobilecomputingandnet
methodtoobtainaccuratemeasurementsoftheangulardi
working
mobicom
pages1
14
rome
italy
2001
rectionofatargetmd
finally
ultrasoundreflectionsinthe
17
randellandh
muller
lowcostindoorpositioningsys
roomcouldbeused
togivecluesaboutlikelymdposi
tem
proc
int
conf
ubiquitous
computing
ubi
comp
pages42
48
atlanta
georgia
usa
2001
tions
situations
good
los
signal
avail
18
scottandm
hazas
user-friendlysurveyingtechniques
able
forlocation-awaresystems
inproc
5thint
conf
onubiq
uitouscomputing
ubicomp
pages44
53
seattle
wash
references
ington
usa
2003
19
viterbi
cdma
principlesofspreadspectrumcommu
phenom
project
2003
www.project-phenom.info
nication
addison-wesley
1995
www.dse.nl/∼esko.
20
weill
conqueringmultipath
thegpsaccuracybattle
addlesee
curwen
hodges
newman
steggles
gpsworld
1997
april
59
66
1997
ward
anda
hopper
implementingasentientcomput
21
wu
chan
andg
thomas
rapidandaccurateinter
ingsystem
ieeecomputer
34
50
56
2001
robotpositiondeterminationinrobotteams
ieeetrans
bouchereau
brady
lanzl
multipath
delay
oninstr
andmeasurement
50
163
168
2001
estimationusingasuperresolutionpn-correlationmethod
22
ziomek
fundamentals
acoustic
field
theory
ieeetrans
onsignalproc
49
938
949
2001
space-timesignalprocessing
crcpress
1995
crocker
handbookofacoustics
wiley
1998
dijk
van
berkel
aarts
van
loenen
ul
trasonic3dpositionestimationusingasinglebasestation
inproc
europeansymposiumonambientintelligence
eu
sai
veldhoven
thenetherlands
2003
springerverlag
foxlin
harrington
pfeifer
constellation
awide-rangewirelessmotion-tracking
systemforaug
mentedrealityandvirtualsetapplications
inproc
acm
proceedings
second
ieee
annual
conference
pervasive
computing
communications
percom
04
7695
2090
04
20.00
2004
ieee