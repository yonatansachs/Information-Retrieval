Pairwise Fairness in Ranking as a Dissatisfaction Measure
Alessandro Fabris

Gianmaria Silvello

Max-Planck Institute for Security and Privacy
Bochum, Germany
University of Padova
Padova, Italy
fabrisal@dei.unipd.it

University of Padova
Padova, Italy
silvello@dei.unipd.it

Gian Antonio Susto

Asia J. Biega

University of Padova
Padova, Italy
sustogia@dei.unipd.it

Max Planck Institute for Security and Privacy
Bochum, Germany
asia.biega@mpi-sp.org

ABSTRACT

Mining (WSDM â€™23), February 27-March 3, 2023, Singapore, Singapore. ACM,
New York, NY, USA, 9 pages. https://doi.org/10.1145/3539597.3570459

Fairness and equity have become central to ranking problems in
information access systems, such as search engines, recommender
systems, or marketplaces. To date, several types of fair ranking
measures have been proposed, including diversity, exposure, and
pairwise fairness measures. Out of those, pairwise fairness is a
family of metrics whose normative grounding has not been clearly
explicated, leading to uncertainty with respect to the construct that
is being measured and how it relates to stakeholdersâ€™ desiderata.
In this paper, we develop a normative and behavioral grounding
for pairwise fairness in ranking. Leveraging measurement theory
and user browsing models, we derive an interpretation of pairwise
fairness centered on the construct of producer dissatisfaction, tying
pairwise fairness to perceptions of ranking quality. Highlighting
the key limitations of prior pairwise measures, we introduce a set
of reformulations that allow us to capture behavioral and practical
aspects of ranking systems. These reformulations form the basis for
a novel pairwise metric of producer dissatisfaction. Our analytical
and empirical study demonstrates the relationship between dissatisfaction, pairwise, and exposure-based fairness metrics, enabling
informed adoption of the measures.

1

INTRODUCTION

Information Access Systems (IAS) facilitate user interactions with
content by ranking and presenting items to their users according
to their estimated merit or relevance [2, 29]. Content producers in
IAS are increasingly recognized as stakeholders whose economic
and societal needs must be taken into account, along with those of
consumers, to foster a fruitful and equitable information ecosystem
[19, 37, 45, 46]. Their needs can be considered individually [8, 10, 16]
or based on group membership [6, 39, 40] determined by sensitive
attributes such as gender or race. To this end, several measures of
fairness in ranking have been proposed, capturing notions of equity
of exposure [17, 40], representation [1, 42], or pairwise accuracy
[5, 32].
When considering a measure, it is important to distinguish between its construct, that is, the theoretical property captured by the
measure (e.g. fame), and its operationalization, that is, the mathematical formulation adopted to capture this property (e.g. number of
followers) [26]. In this regard, exposure- and representation-based
measures in fair ranking operationalize well-defined constructs,
clearly connected to the desiderata of producers. They measure
the presence of salient groups of providers in the most visible positions of a ranking, increasing their chance of being viewed by IAS
users and consequently gain benefits, such as clicks, purchases, or
downloads. In contrast, in the prior literature, pairwise fairness has
not been clearly associated with a quantity of practical interest for
producers [5, 32, 36]. In a nutshell, measures of pairwise fairness
quantify how often the rank of two items from different groups
reflects their merit and whether mismatched pairs are systematically in favor of one group. This notion of equity is less clearly
connected with immediate producer benefits and thus deserves
further scrutiny.
In this paper, we perform an in-depth study of pairwise fairness.
First, we provide an interpretation of pairwise fairness grounded in
browsing models [12], developing a rigorous distinction between
the construct and its operationalization [26]. We show that pairwise
fairness can capture perceived unfairness on part of item producers,
and thus operationalize their dissatisfaction with the output of an
IAS. Second, we highlight several limitations of existing pairwise
fairness metrics, deriving a novel metric that overcomes the issues.

CCS CONCEPTS
â€¢ Information systems;

KEYWORDS
algorithmic fairness, fair ranking, paiwise fairness
ACM Reference Format:
Alessandro Fabris, Gianmaria Silvello, Gian Antonio Susto, and Asia J. Biega.
2023. Pairwise Fairness in Ranking as a Dissatisfaction Measure. In Proceedings of the Sixteenth ACM International Conference on Web Search and Data
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for profit or commercial advantage and that copies bear this notice and the full citation
on the first page. Copyrights for components of this work owned by others than the
author(s) must be honored. Abstracting with credit is permitted. To copy otherwise, or
republish, to post on servers or to redistribute to lists, requires prior specific permission
and/or a fee. Request permissions from permissions@acm.org.
WSDM â€™23, February 27-March 3, 2023, Singapore, Singapore
Â© 2023 Copyright held by the owner/author(s). Publication rights licensed to ACM.
ACM ISBN 978-1-4503-9407-9/23/02. . . $15.00
https://doi.org/10.1145/3539597.3570459

931

WSDM â€™23, February 27-March 3, 2023, Singapore, Singapore

Alessandro Fabris, Gianmaria Silvello, Gian Antonio Susto, & Asia J. Biega

Our measure improves on previous proposals by modeling realistic
browsing behaviors, individual user perspectives, and relevance
ties. It captures key aspects of observed unfairness and dissatisfaction, connected with perceived quality of IAS by the producers,
which is one of the central concerns for platform owners. Finally,
we characterize the relationship between pairwise and exposurebased measures analytically and empirically. We show their key
similarities, inherited from browsing models, and highlight their
differences arising from the underlying normative constructs.
Overall, we make the following salient contributions:

of a Favorable Discordant Pair (FDP) or an Unfavorable Discordant
Pair (UDP).
Pairwise Fairness. Inter-Group Inaccuracy (IGI) [5] and Rank
Equality Error (REE) [32], the most popular measures of pairwise
fairness, are defined as
1 âˆ‘ï¸ âˆ‘ï¸
ğ‘€ğ´ğµ =
Â·
ğ‘‘ğ‘ˆ (ğ‘–, ğ‘—).
(1)
ğ¶ğ´ğµ
ğ‘– âˆˆğ´ ğ‘— âˆˆğµ

The key difference between IGI and REE is the normalizing constant
ğ¶ğ´ğµ . We defer a detailed analysis of this aspect to Section 4.4. ğ‘€ğ´ğµ
measures how often items ğ‘– âˆˆ ğ´ are in a UDP with items ğ‘— âˆˆ ğµ.
Conversely, ğ‘€ğµğ´ measures the frequency of cross-group UDPs
where items from ğµ are disadvantaged. Beutel et al. [5] then define
fairness as

â€¢ Interpretation of pairwise fairness, centered on producer
dissatisfaction with IAS (Â§ 3).
â€¢ New measure of pairwise fairness (Â§ 5), overcoming the
limitations inherent in the most popular measures (Â§ 4).
â€¢ An analytical (Â§ 5.2) and empirical (Â§ 6) study of the relationship between pairwise fairness and exposure-based fairness.

2

ğ‘€ğ´ğµ âˆ’ ğ‘€ğµğ´ = 0,

(2)

i.e., equality in the frequency of unfavorable discordant pairs between groups. An explicit discussion of the normative reasoning
behind this measure and the construct it captures is lacking in the
literature. To foster contextualized adoption of pairwise fairness,
this paper develops an interpretation of the measured constructs
and proposes a new generalized fairness metric.

BACKGROUND AND RELATED WORK

Fair ranking is concerned with accurately ordering items without
unjust discrimination. Fairness interventions are developed for bias
mitigation [9, 13], equity [8, 40], and diversity [33, 41], and are technically challenging due to the existence of multiple protected groups
[20, 44], outliers [39], and duplicate ranking items [16]. Recent surveys and comparative analyses of fair ranking omit measures of
pairwise fairness [38, 44] or simply frame them as accuracy-based
[19, 37]. A clear discussion of the construct underlying pairwise
fairness is lacking in the literature [5, 32, 36], hindering an informed
adoption of these measures and understanding of how they relate
to item producers and equity towards them.
Notation. Let I denote a set of items to be ranked, and let ğ‘– be an
item from this set. Let ğ‘Ÿğ‘– denote the relevance of item ğ‘– in a given
ranking. Moreover, let ğ‘” âˆˆ G = {ğ´, ğµ} denote a (binary, for ease of
exposition) sensitive attribute.1 Let ğ‘– âˆˆ ğ‘” denote the membership
of ğ‘– in group ğ‘”. Let ğœâˆ— denote an â€œidealâ€ ranking, i.e., a permutation
which orders items decreasingly by relevance: ğœâˆ— = argsort(ğ‘Ÿğ‘– ).
Finally, let ğœ denote a ranking returned by the IAS in response to a
query, and ğœ (ğ‘˜) indicate the item ranked by ğœ in position ğ‘˜.
Discordant pairs. Central to pairwise fairness is the definition of
discordant pair. Two items ğ‘–, ğ‘— âˆˆ I represent a discordant pair if
their relative ordering in ğœ and ğœâˆ— differs. More formally, let ğœ âˆ’1 (ğ‘–)
denote the position of item ğ‘– in ranking ğœ, i.e., ğœ âˆ’1 (ğ‘–) = ğ‘˜ â‡â‡’
ğœ (ğ‘˜) = ğ‘–. Given two rankings, ğœ and ğœâˆ— , the indicator function for
a discordant pair is defined as

3

WHAT DOES PAIRWISE FAIRNESS
ACTUALLY MEASURE?

Following Jacobs and Wallach [26], we examine fairness measures
distinguishing between the construct, i.e., the theoretical property
that a measure intends to capture, and the operationalization, i.e.,
the particular mathematical formulation meant to model that property. Ideally, a fairness measure (operationalization) should be based
on an a priori defined clear normative construct, explicitly enunciating what it means for an algorithm to be equitable and from whose
perspective. However, fairness measures are often introduced as
self-evident prerequisites for equity, resulting in downstream uncertainty as to what exactly is being measured or optimized.
These considerations are especially applicable to measures of
pairwise fairness in ranking. For example, REE is based on the
â€œpostulate that there is value in considering error-based fairness
criteria for rankingsâ€ [32]. Similarly, for IGI, Beutel et al. [5] â€œdraw
on the intuition of Hardt et al. [23] for equality of odds, where the
fairness of a classifier is quantified by comparing its false positive
rate and/or false negative rate.â€ Although related to fairness in that
they seek to equalize a certain property between groups, according
to Equation (2), an explicit exposition of the construct behind these
measures is lacking. In this section, we address this gap by analyzing pairwise fairness measures in depth and uncovering their
underlying construct(s).

ğ‘‘ (ğ‘–, ğ‘—) = 1(ğœ âˆ’1 (ğ‘–) < ğœ âˆ’1 ( ğ‘—), ğœâˆ—âˆ’1 (ğ‘–) > ğœâˆ—âˆ’1 ( ğ‘—)) +
|
{z
}
ğ‘‘ ğ¹ (ğ‘–, ğ‘—)

1(ğœ âˆ’1 (ğ‘–) > ğœ âˆ’1 ( ğ‘—), ğœâˆ—âˆ’1 (ğ‘–) < ğœâˆ—âˆ’1 ( ğ‘—))
|
{z
}

3.1

ğ‘‘ğ‘ˆ (ğ‘–, ğ‘—)

Implicit browsing models

In this section, we demonstrate and derive the implicit user browsing model in pairwise fairness metrics. Let us begin with an observation that REE and IGI are closely related to Kendallâ€™s Tau [30], a rank
Ã Ã
correlation measure defined as ğœ (ğœ, ğœâˆ— ) = 1 âˆ’ ğ¶2 Â· ğ‘– ğ‘—â‰ ğ‘– ğ‘‘ (ğ‘–, ğ‘—),
with ğ¶ = ğ‘›(ğ‘› âˆ’ 1)/2. In essence, computing Kendallâ€™s Tau requires
enumerating every item pair and counting discordant ones. Following Equation (1), let us define inaccuracy as the frequency of

In other words, ğ‘– can be part of a discordant pair when ranking ğœ
unfairly places it at an advantage (ğ‘‘ ğ¹ ) or a disadvantage (ğ‘‘ğ‘ˆ ) over
another item ğ‘—; subscripts ğ¹ and ğ‘ˆ indicate that the first item is part
1 We follow the literature on pairwise fairness and consider binary sensitive attributes.

Extensions to settings with more than two groups can be defined in multiple ways
starting from individual measures (Â§4.1) and are left to future work.

932

Pairwise Fairness in Ranking as a Dissatisfaction Measure

WSDM â€™23, February 27-March 3, 2023, Singapore, Singapore

â€¢ User-centric: Users browse the ranking ğœ sequentially, visiting items in rank ğ‘˜ with probability ğ¹ (ğ‘˜). Each time they
visit an item ğœ (ğ‘˜), if an item of lower relevance was unduly positioned above it, users add 1 to a counter measuring
wasted effort in arriving at the item in position ğ‘˜. According to this interpretation, Kendallâ€™s Tau operationalizes user
dissatisfaction due to wasted browsing effort.

discordant pairs in ğœ and ğœâˆ—
1 âˆ‘ï¸ âˆ‘ï¸
ğ‘€= Â·
ğ‘‘ (ğ‘–, ğ‘—),
ğ¶ ğ‘– ğ‘—â‰ ğ‘–

(3)

from which Kendallâ€™s Tau is computed via the linear transformation
ğœ = 1 âˆ’ 2 Â· ğ‘€. For the sake of simplicity, we will temporarily concentrate on Kendallâ€™s Tau and its interpretation(s), and subsequently
reintroduce the complexity of sensitive attributes to specifically
study REE and IGI.
Furthermore, note that item pairs can be enumerated by browsing the ranking ğœ according to a cascade model [14]. To enumerate
every pair, we can browse ğœ from top (ğ‘˜ = 0) to bottom (ğ‘˜ = ğ‘› âˆ’ 1)
and compare the current item ğœ (ğ‘˜) (the item at rank ğ‘˜ in ğœ) with
items further up in the ranking, to determine whether they constitute a discordant pair.

These interpretations are also applicable to group-based measures of pairwise fairness, such as IGI and REE (Equation 1), with
the caveat of focusing on cross-group comparisons. To exemplify,
let us focus on the item-centric formulation and consider

ğ‘€ğ´ğµ =

1
ğ¶ğ´ğµ

Â·

ğ‘›âˆ’1
âˆ‘ï¸ ğ‘˜âˆ’1
âˆ‘ï¸

ğ¹ (ğ‘˜ â€² )ğ‘‘ğ‘ˆ (ğ‘˜, ğ‘˜ â€² ) Â· 1(ğœ (ğ‘˜) âˆˆ ğ´, ğœ (ğ‘˜ â€² ) âˆˆ ğµ)

ğ‘˜=1 ğ‘˜ â€² =0

ğ‘›âˆ’1 ğ‘˜âˆ’1

ğ‘€=

1 âˆ‘ï¸ âˆ‘ï¸
Â·
ğ‘‘ (ğœ (ğ‘˜), ğœ (ğ‘˜ â€² ))
ğ¶
â€²

Item-centric interpretations for IGI and REE convey the dissatisfaction of items (and producers) from one group for being unjustly
ranked worse than items of lesser relevance from a different group.
More specifically, suppose that an item in position ğ‘˜ â€² belongs to
group ğµ; the producers of group ğ´ evaluate whether this item
is unjustly ranked above their items despite having lower merit.
They contribute to an inter-group dissatisfaction counter, which is
weighted according to the probability of a visit at rank ğ‘˜ â€² , i.e., to the
visibility of the unjustly favored item. In other words, if an item ğ‘—
is unjustly ranked better than another item ğ‘–, but in a position with
low visibility (such as ğœ âˆ’1 ( ğ‘—) = 900 under a top-heavy browsing
model), the producer of ğ‘– is unlikely to notice, while they are more
likely to observe the UDP and increase their dissatisfaction if ğ‘— is
very visible. According to this interpretation, ğ‘€ğ´ğµ represents the
dissatisfaction of group ğ´ with the ranking ğœ, due to their items
being unjustly ranked below the items of group ğµ (in expectation
over the browsing model ğ¹ (ğ‘˜) and after normalization). Pairwise
fairness is thus connected to observed injustice, which can affect the
perceived quality of platform service [18, 28], and, in turn, influence
the loyalty of item producers [31]
User-centric interpretations, on the other hand, center on wasted
effort due to user attention being diverted to items of lower interest
from a different group. Users visit an item with probability ğ¹ (ğ‘˜),
taking into account its group (say, ğ‘” = ğ´). They evaluate how
much effort they wasted to reach this item because they examined
items of inferior relevance from different groups. According to this
interpretation, the counter measures wasted effort to reach items in
group ğ´ that are unduly ranked below items in group ğµ, and ğ‘€ğ´ğµ
represents a normalized expectation of cross-group wasted effort
over the browsing model.

ğ‘˜=1 ğ‘˜ =0

With shorthand notation, we write the indicator function for a
discordant pair of items ranked by ğœ at positions (ğ‘˜, ğ‘˜ â€² ) as ğ‘‘ (ğ‘˜, ğ‘˜ â€² ) =
ğ‘‘ (ğœ (ğ‘˜), ğœ (ğ‘˜ â€² )).
Moreover, let us define a trivial browsing model, according to
which users visit the positions in a ranking with uniform (unit)
probability across all ranks. More formally, ğ¹ (ğ‘˜) = 1 âˆ€ğ‘˜, where
ğ¹ (ğ‘˜) denotes the probability that users will visit the item ğœ (ğ‘˜).
With this notation, we can write the following alternative formulas
for ğ‘€:
ğ‘›âˆ’1 ğ‘˜âˆ’1

Item-centric ğ‘€ =

User-centric: ğ‘€ =

1 âˆ‘ï¸ âˆ‘ï¸
Â·
ğ¹ (ğ‘˜ â€² )ğ‘‘ğ‘ˆ (ğ‘˜, ğ‘˜ â€² )
ğ¶
â€²

(4)

1
Â·
ğ¶

(5)

ğ‘˜=0 ğ‘˜ =0
ğ‘›âˆ’1
ğ‘˜âˆ’1
âˆ‘ï¸
âˆ‘ï¸

ğ¹ (ğ‘˜)

ğ‘˜=0

ğ‘‘ğ‘ˆ (ğ‘˜, ğ‘˜ â€² )

ğ‘˜ â€² =0

In the next section, we show that these alternative formulations capture the perspectives and desiderata of item producers (item-centric)
or item consumers (user-centric). They are equivalent under the
trivial browsing model defined above, but generally yield different
values for ğ‘€. Both provide a way to count and weigh each pair of
items by sequentially traversing a ranking according to a specified
browsing model ğ¹ (ğ‘˜).

3.2

Interpretations

We provide two alternative interpretations of Kendallâ€™s Tau based
on Equations (4) and (5), before generalizing those interpretations
to pairwise fairness metrics.
â€¢ Item-centric: Producers of items at each rank ğ‘˜ evaluate
ranking ğœ by focusing on the most visible cases of unfair
treatment against their item ğœ (ğ‘˜). Their dissatisfaction with
ğœ grows each time they encounter a UDP for ğœ (ğ‘˜), that is,
an item of lesser relevance ranked better than their own.
Ã
The inner summation ğ‘˜âˆ’1
ğ¹ (ğ‘˜ â€² )ğ‘‘ğ‘ˆ (ğ‘˜, ğ‘˜ â€² ) is a weighted
ğ‘˜ â€² =0
counter of UDPs, with a weight proportional to the visibility
of the unjustly favored item. According to this interpretation,
Kendallâ€™s Tau operationalizes aggregate producer dissatisfaction with ğœ for unjustly favoring other items.

4

TOWARD A DISSATISFACTION MEASURE

The fact that multiple interpretations are possible speaks to the flexibility of pairwise measures in operationalizing multiple constructs.
Yet, both IGI and REE exhibit certain limitations when it comes
to capturing phenomena that occur in ranking systems and user
behavior in practice. In this section, we describe these limitations
and propose new formulations of pairwise fairness metrics that
address them.

933

WSDM â€™23, February 27-March 3, 2023, Singapore, Singapore

4.1

Alessandro Fabris, Gianmaria Silvello, Gian Antonio Susto, & Asia J. Biega

Individual pairwise fairness

Many top-heavy user models have been proposed and studied in
the literature, including logarithmic (ğ¹ (ğ‘˜) âˆ 1/log(ğ‘˜) [27]) and
exponential discount (ğ¹ (ğ‘˜) âˆ ğ›¾ ğ‘˜ [35]) models.

Limitation. Just like aggregate performance measures can obscure
poor performance for groups of people [3, 22], group measures
can obscure poor performance for individuals. IGI and REE focus
on user groups, hiding the potential impact on individuals. This
section presents an individual pairwise fairness metric.
New formulation. We define an individual version of pairwise
fairness that captures the dissatisfaction of each ranked item (or
implicitly, the itemâ€™s producer):
ğ‘€ğ‘– =

ğ‘›âˆ’1
âˆ‘ï¸

ğ‘‘ğ‘ˆ (ğ‘–, ğ‘—)

4.3

(6)

ğ‘—=0

Moreover, we may model the case where producers are especially
alert about discordant ranking with items from a certain group (for
example, marketplaces can selectively favor items based on brand
ownership [18, 28], making this attribute particularly salient [15]):
ğ‘€ğ‘–ğ´ =

ğ‘›âˆ’1
âˆ‘ï¸

ğ‘‘ğ‘ˆ (ğ‘–, ğ‘—) Â· 1( ğ‘— âˆˆ ğ´); ğ‘€ğ‘–ğµ =

ğ‘—=0

ğ‘›âˆ’1
âˆ‘ï¸

ğ‘‘ğ‘ˆ (ğ‘–, ğ‘—) = 1(ğœ âˆ’1 (ğ‘–) > ğœ âˆ’1 ( ğ‘—), ğ‘Ÿğ‘– > ğ‘Ÿ ğ‘— )
showing that relevance ties are unaccounted for. We propose to
generalize the notion of UDP to handle ties as:

ğ‘‘ğ‘ˆ (ğ‘–, ğ‘—) Â· 1( ğ‘— âˆˆ ğµ).

ğ‘‘ğ‘ˆ (ğ‘–, ğ‘—) =1(ğœ âˆ’1 (ğ‘–) > ğœ âˆ’1 ( ğ‘—), ğ‘Ÿğ‘– > ğ‘Ÿ ğ‘— )

ğ‘—=0

+ ğ‘ğ‘¡ 1(ğœ âˆ’1 (ğ‘–) > ğœ âˆ’1 ( ğ‘—), ğ‘Ÿğ‘– = ğ‘Ÿ ğ‘— )

Note that the group fairness metrics defined in Eq. (1) can be derived
from these group-envy versions of individual fairness metrics as
follows:
1 âˆ‘ï¸
1 âˆ‘ï¸
ğ‘€ğ‘–ğµ ; ğ‘€ğµğ´ =
ğ‘€ğ‘–ğ´
ğ‘€ğ´ğµ =
ğ¶ğ´ğµ
ğ¶ğµğ´
ğ‘– âˆˆğ´

ğ‘– âˆˆğµ

4.4

Limitation. Existing pairwise fairness metrics do not account for
realistic browsing behaviors. As we have shown in Section 3.1, REE
and IGI implicitly use a simple browsing model with a uniform visit
probability for all ranks. Yet, UDPs at the top of a ranking in practice
would be more visible (top ranking positions are more likely to be
visited by searchers) and thus cause greater dissatisfaction.
New formulation. Pairwise fairness measures can be flexibly modified, both at the individual and group levels, to account for a suitable
user browsing model ğ¹ (ğ‘˜):
ğ‘›âˆ’1
âˆ‘ï¸

with different normalizing constants:
âˆ‘ï¸ âˆ‘ï¸
IGI
REE
ğ¶ğ´ğµ
1(ğ‘Ÿğ‘– > ğ‘Ÿ ğ‘— ); ğ¶ğ´ğµ
=
= ğ‘ğ´ Â· ğ‘ ğµ ,

where ğ‘ğ´ and ğ‘ğµ denote the number of items in I that belong
to group ğ´ and ğµ, respectively. In other words, IGI is normalized
with respect to a worst-case scenario which takes into account the
ground truth relevance ğ‘Ÿğ‘– and its distribution between groups, while
REE is normalized with respect to the a-priori worst case which
does not take ğ‘Ÿğ‘– into account. As a result, the normalizing constant
REE = ğ¶ REE ), while for IGI
in REE is the same for ğ‘€ğ´ğµ and ğ‘€ğµğ´ (ğ¶ğ´ğµ
ğµğ´
IGI
IGI
they typically differ (ğ¶ğ´ğµ â‰  ğ¶ğµğ´ ).
The normalization scheme for IGI has a downsideâ€”it becomes
IGI and ğ‘€ IGI . Let us visualize this issue
unclear how to compare ğ‘€ğ´ğµ
ğµğ´
with a toy example where ğ¹ (ğ‘˜) = 1, âˆ€ğ‘˜, and the ideal ranking is
ğµ ğ´ ğ´
ğœâˆ— = [ğ‘– ğ´
0 , ğ‘– 1 , ğ‘– 2 , ğ‘– 3 ]; here, for ease of exposition, superscript ğ‘” in
ğ‘”
ğ‘– denotes membership of ğ‘– in group ğ‘”. In this situation, we have
IGI = 1, ğ¶ IGI = 2) and equal constants
different constants for IGI (ğ¶ğ´ğµ
ğµğ´
REE
REE
ğµ ğ´ ğ´
for REE (ğ¶ğ´ğµ = ğ¶ğµğ´ = 3). A ranking ğœ = [ğ‘– ğ´
2 , ğ‘– 1 , ğ‘– 0 , ğ‘– 3 ], obtained
ğ´
ğ´
ğµ
by exchanging ğ‘– 0 and ğ‘– 2 in ğœâˆ— , produces two UDPs, one (ğ‘– ğ´
0 , ğ‘–1 )
ğµ
ğ´
in favor of group ğµ and another (ğ‘– 1 , ğ‘– 2 ) in favor of group ğ´. The
IGI = 1 â‰« ğ‘€ IGI = 0.5. Taken
resulting measures for IGI are ğ‘€ğ´ğµ
ğµğ´
at face value, this suggests that group ğµ is largely favored over
group ğ´, and that the latter should be more dissatisfied with ğœ than

ğ¹ (ğ‘˜)ğ‘‘ğ‘ˆ (ğ‘–, ğœ (ğ‘˜))

In other words, the dissatisfaction ğ‘€ğ‘– of the item ğ‘– is a weighted sum
of UDPs, with weights proportional to the probability of visiting
the item unfairly ranked better than ğ‘–.
We can also incorporate group membership into the individual
pairwise fairness measure defined in Sec. 4.1:
ğ‘›âˆ’1
âˆ‘ï¸

ğ¹ (ğ‘˜)ğ‘‘ğ‘ˆ (ğ‘–, ğœ (ğ‘˜)) Â· 1(ğœ (ğ‘˜) âˆˆ ğµ)

ğ‘˜=0

and aggregate it to quantify cross-group dissatisfaction:
ğ‘€ğ´ğµ =

ğ‘›âˆ’1
1 âˆ‘ï¸ âˆ‘ï¸

ğ¶ğ´ğµ

ğ¹ (ğ‘˜)ğ‘‘ğ‘ˆ (ğ‘–, ğœ (ğ‘˜)) Â· 1(ğœ (ğ‘˜) âˆˆ ğµ).

(9)

ğ‘– âˆˆğ´ ğ‘— âˆˆğµ

ğ‘˜=0

ğ‘€ğ‘–ğµ =

Normalization

Limitation. Recall that IGI and REE can be written as:
âˆ‘ï¸ âˆ‘ï¸
1
IGI,REE
ğ‘‘ğ‘ˆ (ğ‘–, ğ‘—)
ğ‘€ğ´ğµ
= IGI,REE Â·
ğ¶ğ´ğµ
ğ‘– âˆˆğ´ ğ‘— âˆˆğµ

Top-heaviness

ğ‘€ğ‘– =

(8)

where ğ‘ğ‘¡ models the dissatisfaction of an item ranked below another
item of the same relevance. We call this case a partial UDP. Possible
values for ğ‘ğ‘¡ range in (0, 1), where ğ‘ğ‘¡ = 1 corresponds to equating
partial UDPs to proper UDPs, while ğ‘ğ‘¡ = 0 indicates indifference to
comparisons with items of the same relevance.

This property provides an intuitive connection between individual
and group perspectives, and guarantees that interventions at the
individual level, making ğ‘€ğ‘– smaller âˆ€ğ‘– âˆˆ {0, . . . , ğ‘› âˆ’ 1}, will also be
beneficial at the group level for metrics ğ‘€ğ´ğµ and ğ‘€ğµğ´ .

4.2

Tie handling

Limitation. Measures of pairwise fairness do not account for ties in
relevance scores ğ‘Ÿğ‘– , a common occurrence in practical applications.
In recommender systems, for example, user ratings are often quantized [25], while, in information retrieval, relevance judgements
are typically discrete (either binary or graded) [24]. IAS which prioritize a group by frequently breaking ties in its favour are not
detected as problematic by either IGI or REE.
New formulation. Recall that ğœâˆ— = argsort(ğ‘Ÿğ‘– ). We can rewrite
the indicator function for UDPs as:

(7)

ğ‘– âˆˆğ´ ğ‘˜=0

934

Pairwise Fairness in Ranking as a Dissatisfaction Measure

WSDM â€™23, February 27-March 3, 2023, Singapore, Singapore

the former. We argue that this is not necessarily true since, from
a groupwise perspective, ğœ and ğœâˆ— are equivalent. In fact, under
IGI and ğ‘€ IGI is not straightforward. This is a
IGI, comparing ğ‘€ğ´ğµ
ğµğ´
very practical problem, since fairness, according to Equation (2), is
defined precisely as the difference between these quantities.
New formulation. We propose an REE inspired normalization
scheme, using the same constant for ğ‘€ğ´ğµ and ğ‘€ğµğ´ , independently
of the relevance scores. In Equation (7). we define:
!
ğ‘âˆ‘ï¸
ğ‘âˆ‘ï¸
ğµ âˆ’1
ğ´ âˆ’1
ğ¶ğ´ğµ = ğ¶ğµğ´ = max ğ‘ğ´ Â·
ğ¹ (ğ‘˜), ğ‘ğµ Â·
ğ¹ (ğ‘˜)
(10)
ğ‘˜=0

compute the overall unfairness of ranking ğœ, we follow Biega et al.
[8], and report the â„“1 norm of ğ›¿ ğœ . We consider three measures
that differ in their normative reasoning for establishing the target
exposure quotas.
Equity of Attention. According to Equity of Attention (EA) [8],
the target exposure for a group ğ‘” should be proportional to the sum
of the relevance of the items in ğ‘”:
âˆ‘ï¸
ğ‘‡ğ‘”EA =
ğ‘Ÿğ‘–
(13)
ğ‘– âˆˆğ‘”

Under a different normative reasoning, we can define a version
of EA inspired by demographic parity [4, 11], which requires that
each group receives a share of attention that is proportional to the
groupâ€™s representation in the overall population:

ğ‘˜=0

Inside the max(Â·) function, the first term represents a worst-case
scenario in which every item in group ğµ is unduly ranked above
every item in group ğ´ (hence the multiplying factor ğ‘ğ´ ) and occupies the most visible ranking positions (hence the summation).
Analogously, the second term represents the case where every item
in group ğ´ is unduly ranked above every item in group ğµ.
This formulation has two desirable properties: (1) the difference
ğ‘€ğ´ğµ âˆ’ ğ‘€ğµğ´ (the unfairness measure) is bounded between (âˆ’1, 1)
and (2) the sign of the measure identifies the (dis)advantaged group,
since positive (negative) values correspond to rankings ğœ with more
visible UDPs against group ğ´ (ğµ).

5

EA-dp

ğ‘‡ğ‘”

Based on the proposed reformulations, we define a pairwise fairness
measure termed Dissatisfaction Induced by Pairwise Swaps (DIPS):
1

ğ‘›âˆ’1
âˆ‘ï¸ ğ‘›âˆ’1
âˆ‘ï¸

DIPS
ğ¶ğ´ğµ
ğ‘–=0 ğ‘˜=0

ğ‘¡ğ‘– = mean { ğ‘— |ğ‘Ÿ ğ‘— =ğ‘Ÿğ‘– } (ğ¹ (ğœâˆ—âˆ’1 ( ğ‘—)))
âˆ‘ï¸
ğ‘‡ğ‘”EE =
ğ‘¡ğ‘–

ğ¹ (ğ‘˜)ğ‘‘ğ‘ˆ (ğ‘–, ğœ (ğ‘˜)) Â· 1(ğ‘– âˆˆ ğ´, ğœ (ğ‘˜) âˆˆ ğµ),
(11)

(15)
(16)

ğ‘– âˆˆğ‘”

DIPS (i) handles ties through parameter ğ‘ğ‘¡ in the definition of ğ‘‘ğ‘ˆ (Â·)
in Equation (8), (ii) is normalized with a group-symmetric constant
according to Equation (10), and (iii) inherits a top-heavy behavior
from a suitable browsing model ğ¹ (ğ‘˜). Browsing models capture the
fact that dissatisfaction is more likely to occur when unfair swaps
happen at highly exposed ranking positions. The tunable parameters for DIPS are the browsing model ğ¹ (ğ‘˜) and the tie-handling
constant ğ‘ğ‘¡ . For the latter, we recommend an intermediate value
ğ‘ğ‘¡ = 0.5, while the former depends on the application and should
be tuned to context-specific browsing behaviour.
Exposure-based measures are a popular family of fairness metrics typically also grounded in browsing models [7, 8, 40]. In the
remainder of this section, we study the relationship between DIPS
and exposure-based fairness.

5.1

(14)

Expected Exposure. Expected Exposure (EE) [17] also relies on
relevance scores to specify its target exposure; however, unlike
EA, it assigns ordinal validity to relevance judgements: if item ğ‘–
is more relevant than (or as relevant as) ğ‘—, it should get more (or
as much) exposure. This property should be contrasted with EA,
which assigns a scale ratio validity to relevance judgements: if item
ğ‘– is twice as relevant as ğ‘—, it should get twice as much exposure.
The amount of exposure in EE is not explicitly specified by the
normative reasoning and is determined by the browsing model
ğ¹ (ğ‘˜) in practice. Numerically, the target exposure in EE can be
expressed as:

DISSATISFACTION INDUCED BY PAIRWISE
SWAPS

DIPS
ğ‘€ğ´ğµ
=

= ğ‘ğ‘” /ğ‘ .

where ğ‘¡ğ‘– is the exposure target quota for item ğ‘–. In a simple setting
without relevance ties, ğ‘¡ğ‘– is equal to the exposure granted to ğ‘– by
the ideal ranking ğœâˆ— under ğ¹ (ğ‘˜). If ties are present, ğ‘¡ğ‘– is the average
exposure granted by ğœâˆ— to items of the same relevance as ğ‘–.

5.2

DIPS and exposure-based fairness

According to exposure-based measures, individual misallocation is
the difference between the target exposure quota of an item and
its actual exposure ğ¹ (ğœ âˆ’1 (ğ‘–)), i.e., its probability of a visit by a
searcher given ranking ğœ. For example, EA defines the target quota
Ã
of an item as its share of overall relevance ğ‘ğ‘– = ğ‘Ÿğ‘– / ğ‘– â€² ğ‘Ÿğ‘– â€² . Under
EA, individual misallocation ğ‘€ğ‘– can be written as:
ğ‘€ğ‘–EA = ğ‘ğ‘–

ğ‘›âˆ’1
âˆ‘ï¸

ğ¹ (ğœ âˆ’1 (ğ‘– â€² )) âˆ’ ğ¹ (ğœ âˆ’1 (ğ‘–))

ğ‘– â€² =0

Review of exposure-based fairness

Exposure-based measures, in their groupwise version, define an
ideal target exposure (ğ‘‡ğ´ ,ğ‘‡ğµ ) for each group and measure the distance between this target and actual exposure (ğ¸ğ´ , ğ¸ğµ ) in ranking
ğœ. We define the normalized misallocation vector as:


ğ‘‡ğ´
ğ¸ğ´
ğ‘‡ğµ
ğ¸ğµ
ğœ ğœ
ğ›¿ ğœ = [ğ›¿ğ´
, ğ›¿ğµ ] =
âˆ’
,
âˆ’
(12)
ğ‘‡ğ´ + ğ‘‡ğµ ğ¸ğ´ + ğ¸ğµ ğ‘‡ğ´ + ğ‘‡ğµ ğ¸ğ´ + ğ¸ğµ

=

ğ‘›âˆ’1
âˆ‘ï¸



ğ‘ğ‘  (ğœ (ğ‘˜)) ğ‘ğ‘– (ğ‘˜ + 1) âˆ’ Pr(ğœ âˆ’1 (ğ‘–) â‰¤ ğ‘˜) ,

ğ‘˜=0

where ğ‘ğ‘  (ğœ (ğ‘˜)) denotes the probability of a user stopping browsing at position ğ‘˜, and ğ¹ (ğ‘˜) is the resulting probability of a visit.2
2 Under cascade (sequential) browsing models, the probability of receiving a visit at

where, for a given group ğ‘”, ğ¸ğ‘” is the sum of individual exposure
Ã
values granted by ğœ to items in group ğ‘”: ğ¸ğ‘” = ğ‘– âˆˆğ‘” ğ¹ (ğœ âˆ’1 (ğ‘–)). To

rank ğ‘˜ is equal to the sum of the probability of stopping at any rank greater than or
Ã
equal to ğ‘˜ [12]: ğ¹ (ğ‘˜) = ğ‘›âˆ’1
ğ‘ (ğœ (ğ‘˜ â€² )) .
ğ‘˜ â€² =ğ‘˜ ğ‘ 

935

WSDM â€™23, February 27-March 3, 2023, Singapore, Singapore

Alessandro Fabris, Gianmaria Silvello, Gian Antonio Susto, & Asia J. Biega

To compare fair ranking measures in a principled fashion, we build
a synthetic dataset with full control on group representation, merit,
and ranking policies. We consider a controlled setting with a binary
sensitive attribute ğ‘” âˆˆ {ğ´, ğµ}, where groups have equal representation over a total of ğ‘ = 1, 000 items, and with sizeable differences
in relevance scores. More specifically, we set ğ‘ğ´ = ğ‘ğµ = 500, and
draw relevance scores from group-specific, uniform distributions
ğ‘“ğ´ (ğ‘Ÿğ‘– ) = unif (0.5, 1) and ğ‘“ğµ (ğ‘Ÿğ‘– ) = unif (0.2, 0.7). In other words, all
items of high relevance (0.7 < ğ‘Ÿğ‘– â‰¤ 1) belong to group ğ´, items of
intermediate relevance (0.5 â‰¤ ğ‘Ÿğ‘– â‰¤ 0.7) belong to both groups with
the same probability, and low relevance items (0 â‰¤ ğ‘Ÿğ‘– < 0.5) are
entirely from group ğµ. The distribution of relevance scores between
groups is depicted in panel (1) of Figure 1a. We choose the browsing
model underlying rank biased precision [35], modeling a top-heavy
probability of visit with exponential decay: ğ¹ (ğ‘˜) = ğ›¾ ğ‘˜ , ğ›¾ = 0.9.

items remain unchanged, i.e., their rank increases according to
ğœ âˆ’1 (ğ‘–) = ğœâˆ—âˆ’1 (ğ‘–) + 20.
Results. The results of this experiment are reported in Figure 1a.
The values of ğ‘€ğ´ğµ âˆ’ ğ‘€ğµğ´ (Equation 2) for REE and DIPS are shown
in panel (2). No promotion takes place in favour of ğ‘” = ğ´, hence
ğ‘€ğµğ´ = 0. DIPS is very sensitive to the promotion rank of items in
group ğµ, showing an exponential decay, while REE is mostly flat.
DIPS > 0.5 for ğ‘˜ = 0 captures a strong
Furthermore, the value ğ‘€ğ´ğµ
REE
dissatisfaction, while ğ‘€ğ´ğµ â‰ª 0.1 is much smaller in comparison.
The remaining panels concentrate on three exposure-based measures (EE, EA, EA-dp). Panel (3) of Figure 1a reports the aggregate
measure |ğ›¿ ğœ | 1 , i.e., the â„“1 norm of the misallocation vector in Equağœ for
tion (2), while Panel (4) reports the groupwise measure ğ›¿ğ´
group ğ´, i.e., the first component of Equation (2). The groupwise
misallocation in panel (4) clearly shows a monotonic trend with
exponential decay, as expected from the browsing model ğ¹ (ğ‘˜). It
is worth recalling that positive values indicate underexposure for
group ğ´. Promoting items from group ğµ to the most visible positions reduces the exposure ğ¸ğ´ available for group ğ´, and therefore
ğœ increases as items from group ğµ are promoted to better posiğ›¿ğ´
tions, corresponding to lower values of ğ‘˜ on the ğ‘¥ axis. It should
be noted that the aggregate measure (|ğ›¿ ğœ | 1 ) in panel (3) derives
ğœ in panel (4). In the binary
directly from the groupwise measure ğ›¿ğ´
case considered in this example, it is equal to twice its absolute
ğœ ).
value, since |ğ›¿ ğœ | 1 = 2 Â· abs(ğ›¿ğ´
DIPS > 0.5 for ğ‘˜ = 0 captures the
Interpretation. The large value ğ‘€ğ´ğµ
strong dissatisfaction that is likely to arise in group ğ´ if many items
in another group were unfairly promoted to the top ranksâ€”unfairly
in the sense that they do not reflect the merit reflected in ğ‘Ÿğ‘– and ğœâˆ— .
DIPS adequately summarizes a situation where
A large value for ğ‘€ğ´ğµ
items in group ğ´ are highly dissatisfied, as the promoted items form
visible UDPs with most items from group ğ´. The same is not true
REE â‰ª 0.1, suggesting that, under the (implicit) normative
for ğ‘€ğ´ğµ
reasoning of REE, the dissatisfaction of group ğ´ would be very far
from its theoretical maximum.
Turning to exposure-based measures, the disaggregated meağœ , depicted in panel (4), are equal up to a constant, which
sures ğ›¿ğ´
depends on the differences in their normative reasoning presented
in Section 5.1. Moreover, these measures have the same profile as
DIPS in the left panel. As discussed in Section 5.2, UDPs (in the absence of FDPs) directly result in missed exposure and higher values
of EA, EA-dp, and EE. Since the same top-heavy browsing model
ğ¹ (ğ‘˜) is assumed across these measures, they end up having a similar profile with exponential decay. Hence, if item producers have a
notion of merit ğ‘Ÿğ‘– , any intervention that assigns exposure to a group
beyond its merit, as encoded by ğ‘Ÿğ‘– , may generate a proportional
amount of dissatisfaction in the remaining groups.

6.1.1 Experimental condition 1: systematic group advantage.
Setup. To be able to compare metrics under controlled unfairness
conditions, we create a rank promotion mechanism that allows us to
control the amount of unfairness relative to a ranking purely based
on relevance. In this experiment, the mechanism advances the 20
most relevant items from group ğµ. We vary the top destination rank
ğ‘˜ for the promoted items, with ğ‘˜ in (0, 99). For example, setting
ğ‘˜ = 0, we promote the 20 most relevant items from ğ‘” = ğµ to the
ranks {0, 1, . . . , 19}, while the relative positions of the remaining

6.1.2 Experimental condition 2: relevance ties.
Setup. Relevance ties are common in ranking problems and datasets
[24, 25, 34, 47]. To study the behavior of DIPS and related measures
in the presence of ties, we round relevance scores in the synthetic
ğ‘
dataset to the nearest integer, leaving us with binary values ğ‘Ÿğ‘– =
round(ğ‘Ÿğ‘– ), depicted in panel (1) of Figure 1b. We consider rankings
ğ‘
of maximum utility ğœ = argsort(ğ‘Ÿğ‘– ) where we vary the tie breaking
policy. At each position of the ranking ğœ, a policy places the item of
maximum relevance among those that have not already been placed

Moreover, recall that DIPS at the item level can be expressed as:
ğ‘€ğ‘–DIPS =

=

ğ‘›âˆ’1
âˆ‘ï¸
ğ‘˜=0
ğ‘›âˆ’1
âˆ‘ï¸
ğ‘˜=0

ğ¹ (ğ‘˜)ğ‘‘ğ‘ˆ (ğ‘–, ğœ (ğ‘˜))

ğ‘ğ‘  (ğœ (ğ‘˜))

ğ‘˜
âˆ‘ï¸

ğ‘‘ğ‘ˆ (ğ‘–, ğœ (ğ‘˜ â€² ))

ğ‘˜ â€² =0

These formulas show that EA and DIPS can both be expressed as
a sum, weighted by stopping probabilities ğ‘ğ‘  (ğœ (ğ‘˜)), of two quantities that are directly related: DIPS counts the number of UDPs
for the item ğ‘– up to rank ğ‘˜, while EA computes the (negative) probability Pr(ğœ âˆ’1 (ğ‘–) â‰¤ ğ‘˜) that item ğ‘– is among the top ğ‘˜. One can
expect the probability of an item being in the top ranks to decrease with the number of its UDPs. For this reason, we expect
DIPS and exposure-based measures to exhibit certain similarities in
practice. At the same time, these measures operationalize different
constructs; hence, we expect them to capture different properties of
rankings. For example, a ranking can assign to an item ğ‘– its ideal exposure quota (ğ‘€ğ‘–ğ¸ğ´ = 0), while granting the most visible positions
to items of lesser relevance, thus causing substantial dissatisfaction
of ğ‘– due to highly visible UDPs (ğ‘€ğ‘–ğ·ğ¼ ğ‘ƒğ‘† â‰« 0).

6

EXPERIMENTS

DIPS is a measure of pairwise fairness, yet it is grounded in browsing models like exposure-based fairness. In this section, we empirically study the similarities and differences between DIPS, pairwise measures, and exposure-based measures on synthetic and
real-world datasets.

6.1

Synthetic data

936

Pairwise Fairness in Ranking as a Dissatisfaction Measure

WSDM â€™23, February 27-March 3, 2023, Singapore, Singapore

(a) Synthetic data: systematic group advantage.

(b) Synthetic data: relevance ties.

(c) Real-world data: fairness intervention to ensure minimum representation.

Figure 1: Distribution of relevance ğ‘Ÿğ‘– (1) and comparison of pairwise fairness measures REE and DIPS (2) with exposure-based
ğœ (4).
measures EE, EA, EA-dp: |ğ›¿ ğœ | 1 (3) and ğ›¿ğ´
in better positions; if items of the same relevance are available from
both groups, we draw the best available item from ğ‘” = ğ´ with
probability ğ‘ğ´ âˆˆ {0, 0.1, . . . , 1}, or from ğ‘” = ğµ with probability
ğ‘ ğµ = 1 âˆ’ ğ‘ğ´ . We consider a tie-aware and a tie-indifferent variant
of REE and DIPS, obtained by setting ğ‘ğ‘¡ = 1 and ğ‘ğ‘¡ = 0, respectively,
in Equation (8).
Results. Figure 1b shows the values for each measure, averaged
over 100 repetitions. Panel (2) shows both versions of REE and DIPS.
As expected, the tie-indifferent variant of both measures is flat at
ğ‘
zero. Indeed, ğœ = argsort(ğ‘Ÿğ‘– ) is a meritocratic ranking; therefore,
there are no proper UDPs. For ğ‘ğ‘¡ = 1, both DIPS and REE span a
wide range of values, capturing the large dissatisfaction between
groups that is likely to arise in this setting with ranking policies
that systematically favor one group over another in case of ties.
EE, EA, and EA-dp are represented in panels (3)-(4), with their
ğœ ), respectively. The
aggregate (|ğ›¿ğ‘” | 1 ) and groupwise component (ğ›¿ğ´
difference between EE and EA is negligible in this setting and they

are therefore indistinguishable in the plots. Overall, EA and EE
have the same profile as the tie-aware version of DIPS.
Interpretation. Measures of pairwise fairness can aptly model
dissatisfaction in contexts where relevance ties are present, a situation that is fairly common in ranking problems. This is achieved
by extending the concept of UDP to account for relevance ties. If,
instead, we stick to the regular definition of UDP, any systematic
advantage for one group will go unnoticed, as testified by the (constant and null) values of REE and DIPS instantiated with ğ‘ğ‘¡ = 0.
Furthermore, this experiment confirms a close connection between
DIPS and exposure-based measures.

6.2

Real-world data

In this section, we complement our discussion of similarities and
differences between pairwise and exposure-based fairness measures by experimenting with a real-world dataset and a popular fair
ranking intervention. We use the Entrepreneurs dataset [21], which

937

WSDM â€™23, February 27-March 3, 2023, Singapore, Singapore

Alessandro Fabris, Gianmaria Silvello, Gian Antonio Susto, & Asia J. Biega

consists of a list of US startup founders who received Series A funding in the last 5 years, obtained from Crunchbase.3 Entrepreneurs
are ranked by inflation-adjusted funding, which is considered the
merit parameter ğ‘Ÿğ‘– , reported in panel (1) of Figure 1c. The sensitive
attribute is binary gender, with a representation ratio of 9:1 in favor
of men (group ğ´). Notice that the ğ‘¦ axis is broken, to highlight
the prevalence of items of low relevance from the group ğ´, while
favoring readability at higher values of ğ‘Ÿğ‘– .

entrepreneurs with higher ğ‘Ÿğ‘– are promoted first. Different ranking
policies, naÃ¯vely enforcing representation without paying attention
to relevance, would yield high values of DIPS.
Interpretation. On the one hand, this experiment shows that,
when DIPS and exposure-based measures are instantiated with the
same top-heavy browsing model ğ¹ (ğ‘˜), they are similarly influenced
by fairness interventions toward the top of a ranking, while ignoring
swaps at less visible positions; they display similar profiles as a
result. On the other hand, the absolute values of these measures
can differ substantially. In essence, exposure-based measures are
based on a comparison between groupwise merit and groupwise
representation among the most visible items in the final ranking.
Although DIPS is focused similarly on the most visible items, it
takes into account their individual merits. For instance, an item
whose relevance is in the highest decile can be promoted to the most
visibile position, i.e, with a sizeable impact on exposure, without
increasing the dissatisfaction counter of most items, i.e., with a
small impact on the aggregate DIPS measure. While showing some
clear similarities, DIPS and exposure-based measures operationalize
different constructs and capture different properties. Overall, our
analyses show that fairness-enhancing interventions in ranking
may cause dissatisfaction for non-protected groups, but merit-based
policies will mitigate this downside.

6.2.1 Enforcing minimum representation.
Setup. We deploy the fairness intervention of Zehlike et al. [43], imposing a minimum representation for the protected group (women).
More specifically, we require a minimum percentage ğ‘ min = 0.5 of
women in every prefix of the final ranking, up to a given ranking
Â¯ In this experiment, we vary ğ‘˜Â¯ âˆˆ {0, . . . , 100}.
position ğ‘˜.
As a motivating example for such an intervention, consider a
trade magazine that compiles a chart of successful entrepreneurs
with attention to gender representation. Relevance and gender representation goals can be achieved with a ranking ğœ that is aware
of the raised funding while featuring a minimum percentage of
Â¯ Low values of ğ‘˜Â¯ correwomen in every prefix up to a given rank ğ‘˜.
spond to mild gender parity requirements, enforced only at the top
Â¯ On the other hand, high values
positions of the ranking (up to ğ‘˜).
Â¯
of ğ‘˜ correspond to more strict requirements, where the minimum
representation must also be maintained further down the ranking.
Results. The results of this experiment are reported in Figure 1c.
Panel (2) focuses on REE and DIPS. The latter increases sharply for
small values (ğ‘˜Â¯ < 20), where an increased representation corresponds to highly visible UDPs under a top-heavy browsing model.
Around rank ğ‘˜Â¯ = 40 DIPS becomes flat, as these ranks have low
Â¯ but, unlike DIPS, the increase
visibility. REE also increases with ğ‘˜,
Â¯ This is due to the fact that, to satisfy the miniaccelerates with ğ‘˜.
mum representation requirement, the number of UPDs increases
Â¯
superlinearly with ğ‘˜.
EE, EA, and EA-dp are represented in panels (3)-(4). The groupwise measure displays a concave profile, similar to DIPS, since
promotions after rank ğ‘˜ = 40 have a negligible impact on exposure. As usual, EE is minimized by the null manipulation ğ‘˜Â¯ = 0;
EA and EA-dp are very close to it as, in this particular setting,
EA-dp
women entrepreneurs have a low overall representation (ğ‘‡ğµ
=
ğ‘ğµ /ğ‘ â‰ƒ 0.1) and, subsequently, a low share of the overall relevance
Ã
Ã
(ğ‘‡ğµEA = ğ‘– âˆˆğµ ğ‘Ÿğ‘– / ğ‘– ğ‘Ÿğ‘– â‰ƒ 0.1). The sizeable values of EE, for ğ‘˜ â‰¥ 40,
suggest that group ğµ (women) gains a significant exposure from
this intervention, clearly at the expense of group ğ´ (men).4
DIPS âˆ’ ğ‘€ DIPS | â‰ª 0.1.
DIPS, on the other hand, has low values |ğ‘€ğ´ğµ
ğµğ´
This is due to the fact that the women entrepreneurs occupying
these highly visible positions in the final ranking ğœ have greater
relevance (ğ‘Ÿğ‘– ) than most of the other entrepreneurs. In other words,
despite a substantial visibility gain for female entrepreneurs, the
most visible positions occupied by them do not represent a UDP
for most male entrepreneurs. For example, when ğ‘˜Â¯ â‰¥ 20, among
the twenty most visible positions, accounting for more than 80% of
overall exposure, we find ten female entrepreneurs who are in the
top decile for raised funding overall. This follows from the fact that
the fairness manipulation used is aware of relevance, so women

7

CONCLUSION

In this paper, we have provided a normative grounding for pairwise fairness measures (Inter-Group Inaccuracy (IGI) [5] and Rank
Equality Error (REE) [32]), retrospectively mapping the measured
construct to producer dissatisfaction induced by a non-meritocratic
ranking, which is related to, yet different from, the construct of
equitable exposure allocation.
We have highlighted the limitations of REE and IGI in capturing
behavioral and practical aspects of rankings in information access
systems, deriving a new measure called Dissatisfaction Induced by
Pairwise Swaps (DIPS) to address them. DIPS operationalizes perceptions of injustice by ranked producers when they are positioned
below less relevant items from other groups.
Finally, we have studied the relationship between DIPS, pairwise, and exposure-based fairness measures, including Equity of
Attention and Expected Exposure. We have shown how to ground
pairwise fairness in browsing models, highlighting the similarities
between exposure-based measures and DIPS. At the same time,
we have stressed the differences between the two families of measures which arise as they operationalize fundamentally different
constructs.
Overall, this work grounds and generalizes measures of pairwise
fairness, situates them more precisely in the practical context of
information access systems, and contributes to the debate on the
normative reasoning behind algorithmic fairness measures.

ACKNOWLEDGMENTS
The work of Gianmaria Silvello was supported by the ExaMode
project, as part of the EU H2020 program under Grant Agreement
no. 825292.

3 https://crunchbase.com/
4 Recall that ğ›¿ ğœ is a normalized quantity, i.e., 0 â‰¤ ğ›¿ ğœ â‰¤ 1
ğ´
ğ´

938

Pairwise Fairness in Ranking as a Dissatisfaction Measure

WSDM â€™23, February 27-March 3, 2023, Singapore, Singapore

REFERENCES

[23] Moritz Hardt, Eric Price, and Nathan Srebro. 2016. Equality of opportunity in
supervised learning. In Proc. of the 29th Annual Conference on Neural Information
Processing Systems (NIPS 2016). Barcelona, ES, 3323â€“3331.
[24] Donna Harman. 1992. The DARPA TIPSTER Project. SIGIR Forum 26, 2 (1992),
26â€“28.
[25] F. Maxwell Harper and Joseph A. Konstan. 2015. The MovieLens Datasets: History
and Context. ACM Trans. Interact. Intell. Syst. 5, 4, Article 19 (Dec. 2015), 19 pages.
https://doi.org/10.1145/2827872
[26] Abigail Z. Jacobs and Hanna Wallach. 2021. Measurement and Fairness. In Proc.
of the 2021 ACM Conference on Fairness, Accountability, and Transparency (Virtual
Event, Canada) (FAccT â€™21). ACM, 375â€“385. https://doi.org/10.1145/3442188.
3445901
[27] Kalervo JÃ¤rvelin and Jaana KekÃ¤lÃ¤inen. 2002. Cumulated Gain-Based Evaluation
of IR Techniques. ACM Trans. Inf. Syst. 20, 4 (oct 2002), 422â€“446. https://doi.org/
10.1145/582415.582418
[28] Adrianne Jeffries and Leon Yin. 2021. Amazon puts its own â€œbrandsâ€ above better
rated products. https://themarkup.org/amazons-advantage/2021/10/14/amazonputs-its-own-brands-first-above-better-rated-products.
[29] Thorsten Joachims. 2002. Optimizing Search Engines Using Clickthrough Data. In
Proc. of the Eighth ACM SIGKDD International Conference on Knowledge Discovery
and Data Mining (Edmonton, Alberta, Canada) (KDD â€™02). ACM, 133â€“142. https:
//doi.org/10.1145/775047.775067
[30] Maurice G Kendall. 1938. A new measure of rank correlation. Biometrika 30, 1/2
(1938), 81â€“93.
[31] Junic Kim. 2021. Platform quality factors influencing content providersâ€™ loyalty.
Journal of Retailing and Consumer Services 60 (2021), 102510. https://doi.org/10.
1016/j.jretconser.2021.102510
[32] Caitlin Kuhlman, MaryAnn VanValkenburg, and Elke Rundensteiner. 2019. FARE:
Diagnostics for Fair Ranking Using Pairwise Error Metrics. In The World Wide
Web Conference (San Francisco, CA, USA) (WWW â€™19). ACM, 2936â€“2942. https:
//doi.org/10.1145/3308558.3313443
[33] Graham McDonald, Craig Macdonald, and Iadh Ounis. 2022. Search results
diversification for effective fair ranking in academic search. Information Retrieval
Journal 25, 1 (2022), 1â€“26.
[34] Frank McSherry and Marc Najork. 2008. Computing Information Retrieval
Performance Measures Efficiently in the Presence of Tied Scores. In Advances in
Information Retrieval. Springer Berlin Heidelberg, Berlin, Heidelberg, 414â€“421.
[35] Alistair Moffat and Justin Zobel. 2008. Rank-Biased Precision for Measurement of
Retrieval Effectiveness. ACM Trans. Inf. Syst. 27, 1, Article 2 (dec 2008), 27 pages.
https://doi.org/10.1145/1416950.1416952
[36] Harikrishna Narasimhan, Andrew Cotter, Maya Gupta, and Serena Wang. 2020.
Proc. of the AAAI Conference on Artificial Intelligence 34, 04 (Apr. 2020), 5248â€“5255.
https://doi.org/10.1609/aaai.v34i04.5970
[37] Evaggelia Pitoura, Kostas Stefanidis, and Georgia Koutrika. 2021. Fairness in
rankings and recommendations: an overview. The VLDB Journal (2021), 1â€“28.
[38] Amifa Raj and Michael D Ekstrand. 2022. Measuring Fairness in Ranked Results:
An Analytical and Empirical Comparison. In Proc. of the 45th International ACM
SIGIR Conference on Research and Development in Information Retrieval.
[39] Fatemeh Sarvi, Maria Heuss, Mohammad Aliannejadi, Sebastian Schelter, and
Maarten de Rijke. 2022. Understanding and Mitigating the Effect of Outliers
in Fair Ranking. In Proc. of the Fifteenth ACM International Conference on Web
Search and Data Mining (Virtual Event, AZ, USA) (WSDM â€™22). ACM, 861â€“869.
[40] Ashudeep Singh and Thorsten Joachims. 2018. Fairness of Exposure in Rankings.
In Proc. of the 24th ACM SIGKDD International Conference on Knowledge Discovery
& Data Mining (London, United Kingdom) (KDD â€™18). ACM, 2219â€“2228.
[41] Julia Stoyanovich, Ke Yang, and HV Jagadish. 2018. Online set selection with
fairness and diversity constraints. In Proc. of the EDBT Conference.
[42] Ke Yang and Julia Stoyanovich. 2017. Measuring Fairness in Ranked Outputs.
In Proc. of the 29th International Conference on Scientific and Statistical Database
Management (Chicago, IL, USA) (SSDBM â€™17). ACM, Article 22, 6 pages. https:
//doi.org/10.1145/3085504.3085526
[43] Meike Zehlike, Francesco Bonchi, Carlos Castillo, Sara Hajian, Mohamed Megahed, and Ricardo Baeza-Yates. 2017. Fa* ir: A fair top-k ranking algorithm. In
Proc. of the 2017 ACM on Conference on Information and Knowledge Management.
1569â€“1578.
[44] Meike Zehlike, Tom SÃ¼hr, Ricardo Baeza-Yates, Francesco Bonchi, Carlos Castillo,
and Sara Hajian. 2022. Fair Top-k Ranking with multiple protected groups.
Information Processing & Management 59, 1 (2022), 102707.
[45] Meike Zehlike, Ke Yang, and Julia Stoyanovich. 2022. Fairness in Ranking, Part I:
Score-Based Ranking. ACM Comput. Surv. (apr 2022). https://doi.org/10.1145/
3533379 Just Accepted.
[46] Meike Zehlike, Ke Yang, and Julia Stoyanovich. 2022. Fairness in Ranking, Part
II: Learning-to-Rank and Recommender Systems. ACM Comput. Surv. (apr 2022).
https://doi.org/10.1145/3533380 Just Accepted.
[47] Ke Zhou, Gui-Rong Xue, Hongyuan Zha, and Yong Yu. 2008. Learning to Rank
with Ties. In Proc. of the 31st Annual International ACM SIGIR Conference on
Research and Development in Information Retrieval (Singapore, Singapore) (SIGIR
â€™08). ACM, 275â€“282. https://doi.org/10.1145/1390334.1390382

[1] Abolfazl Asudeh, H. V. Jagadish, Julia Stoyanovich, and Gautam Das. 2019. Designing Fair Ranking Schemes. In Proc. of the 2019 International Conference on
Management of Data (Amsterdam, Netherlands) (SIGMOD â€™19). ACM, 1259â€“1276.
https://doi.org/10.1145/3299869.3300079
[2] Ricardo Baeza-Yates, Berthier Ribeiro-Neto, et al. 1999. Modern information
retrieval. Vol. 463. ACM press New York.
[3] Solon Barocas, Anhong Guo, Ece Kamar, Jacquelyn Krones, Meredith Ringel
Morris, Jennifer Wortman Vaughan, W. Duncan Wadsworth, and Hanna Wallach.
2021. Designing Disaggregated Evaluations of AI Systems: Choices, Considerations,
and Tradeoffs. ACM, 368â€“378. https://doi.org/10.1145/3461702.3462610
[4] Solon Barocas, Moritz Hardt, and Arvind Narayanan. 2019. Fairness and Machine
Learning. fairmlbook.org. http://www.fairmlbook.org.
[5] Alex Beutel, Jilin Chen, Tulsee Doshi, Hai Qian, Li Wei, Yi Wu, Lukasz Heldt,
Zhe Zhao, Lichan Hong, Ed H. Chi, and Cristos Goodrow. 2019. Fairness in
Recommendation Ranking through Pairwise Comparisons. In Proc. of the 25th
ACM SIGKDD International Conference on Knowledge Discovery & Data Mining
(Anchorage, AK, USA) (KDD â€™19). ACM, 2212â€“2220.
[6] Asia J Biega, Fernando Diaz, Michael D Ekstrand, Sergey Feldman, and Sebastian
Kohlmeier. 2021. Overview of the TREC 2020 Fair Ranking Track. arXiv preprint
arXiv:2108.05135 (2021).
[7] Asia J Biega, Fernando Diaz, Michael D Ekstrand, and Sebastian Kohlmeier. 2020.
Overview of the TREC 2019 fair ranking track. arXiv preprint arXiv:2003.11650
(2020).
[8] Asia J. Biega, Krishna P. Gummadi, and Gerhard Weikum. 2018. Equity of
Attention: Amortizing Individual Fairness in Rankings. In The 41st International
ACM SIGIR Conference on Research & Development in Information Retrieval (Ann
Arbor, MI, USA) (SIGIR â€™18). ACM, 405â€“414.
[9] Ludovico Boratto, Gianni Fenu, and Mirko Marras. 2021. Connecting user and
item perspectives in popularity debiasing for collaborative recommendation.
Information Processing & Management 58, 1 (2021), 102387.
[10] Amanda Bower, Hamid Eftekhari, Mikhail Yurochkin, and Yuekai Sun. 2021.
Individually Fair Ranking. arXiv preprint arXiv:2103.11023 (2021).
[11] Toon Calders and Sicco Verwer. 2010. Three naive Bayes approaches for
discrimination-free classification. Data mining and knowledge discovery 21, 2
(2010), 277â€“292.
[12] Ben Carterette. 2011. System Effectiveness, User Models, and User Utility: A
Conceptual Framework for Investigation. In Proc. of the 34th International ACM
SIGIR Conference on Research and Development in Information Retrieval (Beijing,
China) (SIGIR â€™11). ACM, 903â€“912. https://doi.org/10.1145/2009916.2010037
[13] L. Elisa Celis, Anay Mehrotra, and Nisheeth K. Vishnoi. 2020. Interventions
for Ranking in the Presence of Implicit Bias. In Proc. of the 2020 Conference on
Fairness, Accountability, and Transparency (Barcelona, Spain) (FAT* â€™20). ACM.
[14] Nick Craswell, Onno Zoeter, Michael Taylor, and Bill Ramsey. 2008. An Experimental Comparison of Click Position-Bias Models. In Proc. of the 2008 International
Conference on Web Search and Data Mining (Palo Alto, California, USA) (WSDM
â€™08). ACM, 87â€“94. https://doi.org/10.1145/1341531.1341545
[15] Abhisek Dash, Abhijnan Chakraborty, Saptarshi Ghosh, Animesh Mukherjee,
and Krishna P. Gummadi. 2021. When the Umpire is Also a Player: Bias in Private
Label Product Recommendations on E-Commerce Marketplaces. In Proc. of the
2021 ACM Conference on Fairness, Accountability, and Transparency (Virtual Event,
Canada) (FAccT â€™21). ACM, 873â€“884. https://doi.org/10.1145/3442188.3445944
[16] Giorgio Maria Di Nunzio, Alessandro Fabris, Gianmaria Silvello, and Gian Antonio Susto. 2021. Incentives for Item Duplication Under Fair Ranking Policies.
In Advances in Bias and Fairness in Information Retrieval, Ludovico Boratto, Stefano Faralli, Mirko Marras, and Giovanni Stilo (Eds.). Springer International
Publishing, Cham, 64â€“77.
[17] Fernando Diaz, Bhaskar Mitra, Michael D. Ekstrand, Asia J. Biega, and Ben
Carterette. 2020. Evaluating Stochastic Rankings with Expected Exposure. In Proc.
of the 29th ACM International Conference on Information & Knowledge Management
(Virtual Event, Ireland) (CIKM â€™20). ACM, 275â€“284. https://doi.org/10.1145/
3340531.3411962
[18] Renee Dudley. 2020. Amazonâ€™s New Competitive Advantage: Putting Its Own
Products First. https://www.propublica.org/article/amazons-new-competitiveadvantage-putting-its-own-products-first.
[19] Michael D Ekstrand, Anubrata Das, Robin Burke, and Fernando Diaz. 2021.
Fairness and discrimination in information access systems. arXiv preprint
arXiv:2105.05779 (2021).
[20] Michael D. Ekstrand, Graham McDonald, Amifa Raj, and Isaac Johnson. 2022.
Overview of the TREC 2021 Fair Ranking Track. In The Thirtieth Text REtrieval
Conference (TREC 2021) Proceedings.
[21] Avijit Ghosh, Ritam Dutt, and Christo Wilson. 2021. When Fair Ranking Meets
Uncertain Inference. ACM, 1033â€“1043. https://doi.org/10.1145/3404835.3462850
[22] Sruthi Gorantla, Amit Deshpande, and Anand Louis. 2021. On the Problem of
Underranking in Group-Fair Ranking. In Proc. of the 38th International Conference
on Machine Learning (Proc. of Machine Learning Research, Vol. 139). PMLR, 3777â€“
3787.

939

